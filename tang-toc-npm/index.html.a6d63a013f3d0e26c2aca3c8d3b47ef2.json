{"head":{"layout":"Post","title":"npm: Tăng tốc và sử dụng offline","date":"2016-04-12T17:00:00.000Z","route":"tang-toc-npm","tags":["javascript"],"toc":false,"description":"Chắc chắn là ai đã từng làm việc với npm thì đều biết một điều rằng npm nó siêu chậm. Vì vậy mình hay hạn chế chạy npm install đến mức tối thiểu và thường không nhận được patch update, ... cũng như…"},"body":"<p>Chắc chắn là ai đã từng làm việc với npm thì đều biết một điều rằng npm nó siêu chậm. Vì vậy mình hay hạn chế chạy <code>npm install</code> đến mức tối thiểu và thường không nhận được patch update, … cũng như nhiều vấn đề khác phát sinh. Trong bài viết này mình sẽ giới thiệu với các bạn một package không những giúp tăng tốc npm mà còn cho phép bạn cài đặt package offline.</p>\n<h1 id=\"local-npm\"><a class=\"markdownIt-Anchor\" href=\"#local-npm\">#</a> <a href=\"https://github.com/nolanlawson/local-npm\">local-npm</a></h1>\n<p><a href=\"https://github.com/nolanlawson/local-npm\">local-npm</a> sẽ tạo ra 1 replicate cho toàn bộ database của npm (chỉ hơn 1GB một tí thôi) cũng như là cache các package đã tải về. Vì vậy bạn sẽ không bao giờ tải một file 2 lần.</p>\n<h2 id=\"Su-dung\"><a class=\"markdownIt-Anchor\" href=\"#Su-dung\">#</a> Sử dụng</h2>\n<ul>\n<li>Cài đặt</li>\n</ul>\n<pre><code class=\"language-console\"><span class=\"hljs-built_in\">npm</span> install --<span class=\"hljs-built_in\">global</span> local-<span class=\"hljs-built_in\">npm</span></code></pre>\n<ul>\n<li>Tạo một thư mục để chứa dữ liệu</li>\n</ul>\n<pre><code class=\"language-console\"><span class=\"hljs-built_in\">mkdir</span> ~/local_npm</code></pre>\n<ul>\n<li>Chạy local-npm server</li>\n</ul>\n<pre><code class=\"language-console\"><span class=\"hljs-built_in\">local</span>-npm <span class=\"hljs-_\">-d</span> ~/local_npm</code></pre>\n<ul>\n<li>Lúc này bạn sẽ thấy giao diện chính của chương trình xuất hiện</li>\n</ul>\n<p><img src=\"./local_npm.png\" alt=\"Giao diện của local-npm\"></p>\n<ul>\n<li>Thiết lập cho npm tải dữ liệu từ local-npm</li>\n</ul>\n<pre><code class=\"language-console\">npm <span class=\"hljs-keyword\">set</span> registry <span class=\"hljs-comment\">http:</span>//<span class=\"hljs-comment\">127.0.0.1:5080</span></code></pre>\n<ul>\n<li>Nếu bạn không thích dùng local-npm nữa thì gõ lệnh</li>\n</ul>\n<pre><code class=\"language-console\">npm <span class=\"hljs-keyword\">set</span> registry <span class=\"hljs-comment\">https:</span>//<span class=\"hljs-comment\">registry.npmjs.org</span></code></pre>\n<ul>\n<li>local-npm còn cung cấp cho bạn một giao diện kiểu như npm để bạn có thể duyệt các package offline. Nhưng bạn phải đợi cho local-npm replicate hoàn toàn database của npm về máy đã. Bạn có thể truy cập vào [<a href=\"http://localhost:5080/_browse/#/\">http://localhost:5080/_browse/#/</a>] để sử dụng</li>\n</ul>\n<p><img src=\"./ui.png\" alt=\"local-npm UI\"></p>\n<p>Vậy là xong. local-npm sẽ tự động replicate database của npm về, mỗi khi bạn tải một package nào về thì nó sẽ tự động cache, đảm bảo là bạn không bao giờ phải tải một file nào đó 2 lần.</p>\n<h1 id=\"Tu-dong-chay-local-npm-khi-khoi-dong-may\"><a class=\"markdownIt-Anchor\" href=\"#Tu-dong-chay-local-npm-khi-khoi-dong-may\">#</a> Tự động chạy local-npm khi khởi động máy</h1>\n<p>Ở đây mình hướng dẫn cho Ubuntu 15.04</p>\n<ul>\n<li>Mở dash và tìm kiếm Startup Applications</li>\n</ul>\n<p><img src=\"./dash.png\" alt=\"dash search\"></p>\n<ul>\n<li>Tạo mới một entry để tự khởi động command ở trên mỗi khi mở máy</li>\n</ul>\n<p><img src=\"./settings.png\" alt=\"startup setup\"></p>\n<p>Done. npm is not a jerk anymore. :D</p>\n","rawBody":"\nChắc chắn là ai đã từng làm việc với npm thì đều biết một điều rằng npm nó siêu chậm. Vì vậy mình hay hạn chế chạy `npm install` đến mức tối thiểu và thường không nhận được patch update, ... cũng như nhiều vấn đề khác phát sinh. Trong bài viết này mình sẽ giới thiệu với các bạn một package không những giúp tăng tốc npm mà còn cho phép bạn cài đặt package offline.\n\n# [local-npm](https://github.com/nolanlawson/local-npm)\n\n[local-npm](https://github.com/nolanlawson/local-npm) sẽ tạo ra 1 replicate cho toàn bộ database của npm (chỉ hơn 1GB một tí thôi) cũng như là cache các package đã tải về. Vì vậy bạn sẽ không bao giờ tải một file 2 lần.\n\n## Sử dụng\n\n- Cài đặt\n\n```console\nnpm install --global local-npm\n```\n\n- Tạo một thư mục để chứa dữ liệu\n\n```console\nmkdir ~/local_npm\n```\n\n- Chạy local-npm server\n\n```console\nlocal-npm -d ~/local_npm\n```\n\n- Lúc này bạn sẽ thấy giao diện chính của chương trình xuất hiện\n\n![Giao diện của local-npm](./local_npm.png)\n\n- Thiết lập cho npm tải dữ liệu từ local-npm\n\n```console\nnpm set registry http://127.0.0.1:5080\n```\n\n- Nếu bạn không thích dùng local-npm nữa thì gõ lệnh\n\n```console\nnpm set registry https://registry.npmjs.org\n```\n\n- local-npm còn cung cấp cho bạn một giao diện kiểu như npm để bạn có thể duyệt các package offline. Nhưng bạn phải đợi cho local-npm replicate hoàn toàn database của npm về máy đã. Bạn có thể truy cập vào [http://localhost:5080/_browse/#/] để sử dụng\n\n![local-npm UI](./ui.png)\n\nVậy là xong. local-npm sẽ tự động replicate database của npm về, mỗi khi bạn tải một package nào về thì nó sẽ tự động cache, đảm bảo là bạn không bao giờ phải tải một file nào đó 2 lần.\n\n# Tự động chạy local-npm khi khởi động máy\n\nỞ đây mình hướng dẫn cho Ubuntu 15.04\n\n- Mở dash và tìm kiếm Startup Applications\n\n![dash search](./dash.png)\n\n- Tạo mới một entry để tự khởi động command ở trên mỗi khi mở máy\n\n![startup setup](./settings.png)\n\nDone. npm is not a jerk anymore. :D\n","raw":"---\nlayout: Post\ntitle: 'npm: Tăng tốc và sử dụng offline'\ndate: 2016-04-12 17:00:00\nroute: tang-toc-npm\ntags: [javascript]\ntoc: false\n---\n\nChắc chắn là ai đã từng làm việc với npm thì đều biết một điều rằng npm nó siêu chậm. Vì vậy mình hay hạn chế chạy `npm install` đến mức tối thiểu và thường không nhận được patch update, ... cũng như nhiều vấn đề khác phát sinh. Trong bài viết này mình sẽ giới thiệu với các bạn một package không những giúp tăng tốc npm mà còn cho phép bạn cài đặt package offline.\n\n# [local-npm](https://github.com/nolanlawson/local-npm)\n\n[local-npm](https://github.com/nolanlawson/local-npm) sẽ tạo ra 1 replicate cho toàn bộ database của npm (chỉ hơn 1GB một tí thôi) cũng như là cache các package đã tải về. Vì vậy bạn sẽ không bao giờ tải một file 2 lần.\n\n## Sử dụng\n\n- Cài đặt\n\n```console\nnpm install --global local-npm\n```\n\n- Tạo một thư mục để chứa dữ liệu\n\n```console\nmkdir ~/local_npm\n```\n\n- Chạy local-npm server\n\n```console\nlocal-npm -d ~/local_npm\n```\n\n- Lúc này bạn sẽ thấy giao diện chính của chương trình xuất hiện\n\n![Giao diện của local-npm](./local_npm.png)\n\n- Thiết lập cho npm tải dữ liệu từ local-npm\n\n```console\nnpm set registry http://127.0.0.1:5080\n```\n\n- Nếu bạn không thích dùng local-npm nữa thì gõ lệnh\n\n```console\nnpm set registry https://registry.npmjs.org\n```\n\n- local-npm còn cung cấp cho bạn một giao diện kiểu như npm để bạn có thể duyệt các package offline. Nhưng bạn phải đợi cho local-npm replicate hoàn toàn database của npm về máy đã. Bạn có thể truy cập vào [http://localhost:5080/_browse/#/] để sử dụng\n\n![local-npm UI](./ui.png)\n\nVậy là xong. local-npm sẽ tự động replicate database của npm về, mỗi khi bạn tải một package nào về thì nó sẽ tự động cache, đảm bảo là bạn không bao giờ phải tải một file nào đó 2 lần.\n\n# Tự động chạy local-npm khi khởi động máy\n\nỞ đây mình hướng dẫn cho Ubuntu 15.04\n\n- Mở dash và tìm kiếm Startup Applications\n\n![dash search](./dash.png)\n\n- Tạo mới một entry để tự khởi động command ở trên mỗi khi mở máy\n\n![startup setup](./settings.png)\n\nDone. npm is not a jerk anymore. :D\n","__filename":"tang-toc-npm/index.md","__url":"/tang-toc-npm/","__resourceUrl":"/tang-toc-npm/index.html","__dataUrl":"/tang-toc-npm/index.html.a6d63a013f3d0e26c2aca3c8d3b47ef2.json"}