{"head":{"layout":"Post","title":"Tôi đã thiết kế trang web học C++ của Dạy Nhau Học phục vụ hàng chục nghìn lượt truy cập mối tháng mà chỉ tốn $0.0002/tháng như thế nào","date":"2016-09-11T17:00:00.000Z","tags":["case study","phenomic","static website"],"draft":true,"toc":false,"description":"Nếu bạn là thành viên của Dạy Nhau Học (DNH) thì các bạn có thể đã biết đến khóa học của anh Đạt admin (@ltd) Khóa học này (có phí) gồm các video được đăng trên Udemy kèm với đó là trang web đăng tải…"},"body":"<p>Nếu bạn là thành viên của <a href=\"http://daynhauhoc.com\">Dạy Nhau Học (DNH)</a> thì các bạn có\nthể đã biết đến khóa học của <a href=\"http://daynhauhoc.com/users/ltd/activity\">anh Đạt admin (@ltd)</a></p>\n<p>Khóa học này (có phí) gồm các <a href=\"https://www.udemy.com/c-co-ban-danh-cho-nguoi-moi-hoc-lap-trinh/\">video được đăng trên Udemy</a> kèm với\nđó là <a href=\"http://cpp.daynhauhoc.com\">trang web đăng tải các bài học miễn phí</a>.</p>\n<p><a href=\"http://cpp.daynhauhoc.com\"><img src=\"./1-website-screen-shot.jpg\" alt=\"DNH C++ screenshot\"></a></p>\n<p>Trong bài viết này mình sẽ giới thiệu các công nghệ đã sử dụng để tạo ra một\ntrang web tương tự mà không tốn chi phí hosting cũng như là thời gian để quản\nlí và nâng cấp.</p>\n<h1 id=\"Web-tinh-static-website\"><a class=\"markdownIt-Anchor\" href=\"#Web-tinh-static-website\">#</a> Web tĩnh (static website)</h1>\n<p>Web tĩnh có nghĩa là máy sẽ gửi trực tiếp các file HTML về cho người dùng mà\nkhông cần phải phải qua xử lí với PHP, Node.js, Ruby hay bất kì ngôn ngữ nào.</p>\n<p>Ưu điểm của static website:</p>\n<ul>\n<li>An toàn: Chẳng có bất kì logic để hacker lợi dụng ở đây. Nếu hacker có vào được\nmáy chủ của bạn thì thứ mà hắn ta thấy chỉ là các file HTML. Bạn không cần là một\nhacker cũng có thể tải tất cả các file này về với một dòng lệnh</li>\n</ul>\n<pre><code class=\"language-sh\">$ wget \\\n     --recursive \\\n     --no-clobber \\\n     --page-requisites \\\n     --convert-links \\\n     --restrict-file-names=windows \\\n     --domains website.org \\\n     --no-parent \\\n         www.website.org/tutorials/html/</code></pre>\n<p>(Nguồn: <a href=\"http://www.linuxjournal.com/content/downloading-entire-web-site-wget\">Linux Journal</a>)</p>\n<ul>\n<li>\n<p>Nhanh: Máy chủ chỉ việc gửi các file HTML có sẵn về nên truy cập web tĩnh\nsẽ siêu nhanh. Có thể đạt tốc độ mili giây mà không cần phải tối ưu hóa gì</p>\n</li>\n<li>\n<p>Rẻ: Vì web tĩnh là một xu hướng hiện nay nên có nhiều dịch vụ chuyên về hosting\ncho web tĩnh. Một số dịch vụ còn miễn phí. Ví dụ:</p>\n<ul>\n<li><a href=\"https://pages.github.com\">Github Pages</a> - Miễn phí hoàn toàn. Mình dùng\nGithub Pages để host website Học C++</li>\n<li><a href=\"https://pages.gitlab.com\">Gitlab Pages</a> - Miễn phí hoàn toàn</li>\n<li><a href=\"https://aws.amazon.com\">Amazon S3 + Amazon Cloudfront</a> - Trả phí, tính theo\ndung lượng và băng thông</li>\n<li><a href=\"https://netlify.com\">Netlify</a> - Miễn phí kèm các gói nâng cấp từ $9 đến $49/ tháng</li>\n<li><a href=\"https://surge.sh\">Surge.sh</a> - Miễn phí kèm gói nâng cấp $9</li>\n<li><a href=\"https://www.aerobatic.com/\">Aerobatic</a> - Miễn phí kèm với các gói nâng cấp\ntừ $10 đến 200$/ tháng</li>\n</ul>\n</li>\n</ul>\n<blockquote>\n<p>Tham khảo thêm :</p>\n<ul>\n<li><a href=\"http://nilclass.com/courses/what-is-a-static-website\">What is a static website</a></li>\n<li><a href=\"https://www.datocms.com/why-static/\">Why Static? - by DatoCMS</a></li>\n</ul>\n</blockquote>\n<h1 id=\"Cong-cu-tao-trang-web-tinh-Static-site-generator-SSG\"><a class=\"markdownIt-Anchor\" href=\"#Cong-cu-tao-trang-web-tinh-Static-site-generator-SSG\">#</a> Công cụ tạo trang web tĩnh (Static site generator - SSG)</h1>\n<p>Vì sao lại cần một công cụ?</p>\n<p>Vì viết HTML bằng tay rất dễ bị lỗi và bạn phải lập lại nhiều phần ở mỗi trang\nnhư header, footer, …</p>\n<p>Một vài công cụ nổi tiếng\n<a href=\"http://jekyllrb.com/\">Jekyll</a>,\n<a href=\"http://gohugo.io/\">Hugo</a>,\n<a href=\"http://www.metalsmith.io/\">Metalsmith</a></p>\n<p><a href=\"https://www.staticgen.com/\">Staticgen.com</a> là một danh sách tổng hợp tất cả\ncác SSG</p>\n<p>Ở đây mình chọn <a href=\"https://phenomic.io\">Phenomic</a>. Vì một số lí do sau đây:</p>\n<ul>\n<li>Mình đóng góp một số lượng lớn code vào project này (115 commit tính đến thời\nđiểm viết bài)</li>\n<li>Nó dựa trên React.js và mình thì thích React.js</li>\n<li>Trang web tạo ra sẽ giống một web app: chuyển trang dùng history.pushState thay\nvì phải load lại trang từ đầu, và Phenomic chỉ cần load data, không cần phải\nload toàn bộ trang web như các công cụ khác</li>\n<li>Dễ tùy biến, nếu bạn quen làm việc với React.js, Webpack thì bạn sẽ chẳng phải\nhọc thêm gì. Bắt tay vào code thôi.</li>\n</ul>\n<h1 id=\"Tai-noi-dung\"><a class=\"markdownIt-Anchor\" href=\"#Tai-noi-dung\">#</a> Tải nội dung</h1>\n<ul>\n<li>Các bài viết được viết dưới dạng markdown trên diễn đàn DNH.</li>\n<li>Đây là topic tổng hợp các viết của khóa học: <a href=\"http://daynhauhoc.com/t/tong-hop-khoa-hoc-lap-trinh-c-danh-cho-nguoi-moi-bat-dau/29429\">http://daynhauhoc.com/t/tong-hop-khoa-hoc-lap-trinh-c-danh-cho-nguoi-moi-bat-dau/29429</a></li>\n<li><a href=\"https://github.com/thangngoc89/dnh-cpp/blob/4053532715b1e4d678a2fe99483f68fddedb018d/scripts/content/fetch-data.js\">Đầu tiên mình sẽ tải file markdown của bài viết tổng hợp ở trên về</a>\n<a href=\"http://daynhauhoc.com/raw/29429\">tại đây</a></li>\n<li><a href=\"https://github.com/thangngoc89/dnh-cpp/blob/4053532715b1e4d678a2fe99483f68fddedb018d/scripts/content/parse-toc.js\">Chuyển cáu trúc trên thành dạng cây</a></li>\n<li><a href=\"https://github.com/thangngoc89/dnh-cpp/blob/4053532715b1e4d678a2fe99483f68fddedb018d/scripts/content/download-post.js\">Cuối cùng là tải từng bài viết về và lưu vào thư mục <code>content</code></a></li>\n</ul>\n<h1 id=\"Tu-dong-tao-va-dang-tai-website\"><a class=\"markdownIt-Anchor\" href=\"#Tu-dong-tao-va-dang-tai-website\">#</a> Tự động tạo và đăng tải website</h1>\n<ul>\n<li>Mình dùng <a href=\"https://travis-ci.org\">Travis CI</a> để tự động tạo và đăng tải website mỗi khi mình push bất kì chỉnh sửa nào lên Github.</li>\n</ul>\n<blockquote>\n<p><a href=\"https://phenomic.io/docs/usage/gh-pages/#automatically-with-travis-ci\">Hướng dẫn cầu hình Travis CI từ Phenomic</a></p>\n</blockquote>\n<ul>\n<li>Travis CI cũng đảm nhận việc đăng tải website hoàn thành lên Github</li>\n</ul>\n<h1 id=\"Tu-dong-tao-trang-web-moi-ngay\"><a class=\"markdownIt-Anchor\" href=\"#Tu-dong-tao-trang-web-moi-ngay\">#</a> Tự động tạo trang web mỗi ngày</h1>\n<p>Vì Travis CI chỉ chạy mỗi khi mình push lên Github nên mình cần phải thiết lập\ncronjob tự động kích hoạt Travis CI build mỗi ngày 2 lần để cập nhật các nội\ndung mới của khóa học.</p>\n<p>Suy nghĩ đầu tiên là dùng một host/ VPS nào đó để thực hiện việc này.</p>\n<p>VPS rẻ nhất là cỡ $5/tháng, và chạy một VPS 24/7 để chỉ thực hiện một công việc\nmỗi ngày 2 lần là quá phí phạm. (Dù gì thì host toàn bộ trang web chẳng tốn\nbất kì chi phí nào mà).</p>\n<p>Host free với cronjob cũng là một lưa chọn, nhưng:</p>\n<ul>\n<li>Mình không chơi với PHP nữa :D</li>\n<li>Đoạn script để kích hoạt Travis CI cần Github token của mình nên bỏ token đó\nlên shared host không an toàn tí nào.</li>\n</ul>\n<p>Giải pháp của mình là dùng Amazon Lambda kèm với Amazon Cloudwatch để thay thế\ncronjob. Mình chọn <a href=\"https://serverless.com/\">Serverless Framework</a> để tự động\nhóa việc upload, và thiết lập Amazon Lambda cho mình. (Vì Dashboard của AWS\nrất củ chuối).</p>\n<p>Các bạn có thể xem <a href=\"https://github.com/thangngoc89/dnh-cpp/tree/4053532715b1e4d678a2fe99483f68fddedb018d/cron\">toàn bộ Lambda function kèm với cấu hình ở đây</a></p>\n<p>Chi phí cho Amazon Lambda và Cloudwatch là siêu rẻ. Mình ước tính khoảng\n$0.0002/tháng. <a href=\"https://gist.github.com/thangngoc89/7775c62a93d69800010bdcc0c8889f6c\">- xem chi tiết</a></p>\n<h1 id=\"Ket-luan\"><a class=\"markdownIt-Anchor\" href=\"#Ket-luan\">#</a> Kết luận</h1>\n<p>Web tĩnh là một xu hướng hiện nay, dùng đúng công cụ và dịch vụ, các bạn có thể\ntạo ra một trang web hoàn toàn miễn phí sẵn sàng phục vụ cho hàng triệu lượt\ntruy cập mỗi tháng.</p>\n","rawBody":"\nNếu bạn là thành viên của [Dạy Nhau Học (DNH)](http://daynhauhoc.com) thì các bạn có\nthể đã biết đến khóa học của [anh Đạt admin (@ltd)](http://daynhauhoc.com/users/ltd/activity)\n\nKhóa học này (có phí) gồm các [video được đăng trên Udemy](https://www.udemy.com/c-co-ban-danh-cho-nguoi-moi-hoc-lap-trinh/) kèm với\nđó là [trang web đăng tải các bài học miễn phí](http://cpp.daynhauhoc.com).\n\n[![DNH C++ screenshot](./1-website-screen-shot.jpg)](http://cpp.daynhauhoc.com)\n\nTrong bài viết này mình sẽ giới thiệu các công nghệ đã sử dụng để tạo ra một\ntrang web tương tự mà không tốn chi phí hosting cũng như là thời gian để quản\nlí và nâng cấp.\n\n# Web tĩnh (static website)\n\nWeb tĩnh có nghĩa là máy sẽ gửi trực tiếp các file HTML về cho người dùng mà\nkhông cần phải phải qua xử lí với PHP, Node.js, Ruby hay bất kì ngôn ngữ nào.\n\nƯu điểm của static website:\n\n- An toàn: Chẳng có bất kì logic để hacker lợi dụng ở đây. Nếu hacker có vào được\nmáy chủ của bạn thì thứ mà hắn ta thấy chỉ là các file HTML. Bạn không cần là một\nhacker cũng có thể tải tất cả các file này về với một dòng lệnh\n\n```sh\n$ wget \\\n     --recursive \\\n     --no-clobber \\\n     --page-requisites \\\n     --convert-links \\\n     --restrict-file-names=windows \\\n     --domains website.org \\\n     --no-parent \\\n         www.website.org/tutorials/html/\n```\n\n(Nguồn: [Linux Journal](http://www.linuxjournal.com/content/downloading-entire-web-site-wget))\n\n- Nhanh: Máy chủ chỉ việc gửi các file HTML có sẵn về nên truy cập web tĩnh\nsẽ siêu nhanh. Có thể đạt tốc độ mili giây mà không cần phải tối ưu hóa gì\n\n- Rẻ: Vì web tĩnh là một xu hướng hiện nay nên có nhiều dịch vụ chuyên về hosting\ncho web tĩnh. Một số dịch vụ còn miễn phí. Ví dụ:\n  - [Github Pages](https://pages.github.com) - Miễn phí hoàn toàn. Mình dùng\n    Github Pages để host website Học C++\n  - [Gitlab Pages](https://pages.gitlab.com) - Miễn phí hoàn toàn\n  - [Amazon S3 + Amazon Cloudfront](https://aws.amazon.com) - Trả phí, tính theo\n    dung lượng và băng thông\n  - [Netlify](https://netlify.com) - Miễn phí kèm các gói nâng cấp từ $9 đến $49/ tháng\n  - [Surge.sh](https://surge.sh) - Miễn phí kèm gói nâng cấp $9\n  - [Aerobatic](https://www.aerobatic.com/) - Miễn phí kèm với các gói nâng cấp\n    từ $10 đến 200$/ tháng\n\n> Tham khảo thêm :\n> - [What is a static website](http://nilclass.com/courses/what-is-a-static-website)\n> - [Why Static? - by DatoCMS](https://www.datocms.com/why-static/)\n\n# Công cụ tạo trang web tĩnh (Static site generator - SSG)\n\nVì sao lại cần một công cụ?\n\nVì viết HTML bằng tay rất dễ bị lỗi và bạn phải lập lại nhiều phần ở mỗi trang\nnhư header, footer, ...\n\nMột vài công cụ nổi tiếng\n[Jekyll](http://jekyllrb.com/),\n[Hugo](http://gohugo.io/),\n[Metalsmith](http://www.metalsmith.io/)\n\n[Staticgen.com](https://www.staticgen.com/) là một danh sách tổng hợp tất cả\ncác SSG\n\nỞ đây mình chọn [Phenomic](https://phenomic.io). Vì một số lí do sau đây:\n\n- Mình đóng góp một số lượng lớn code vào project này (115 commit tính đến thời\n  điểm viết bài)\n- Nó dựa trên React.js và mình thì thích React.js\n- Trang web tạo ra sẽ giống một web app: chuyển trang dùng history.pushState thay\n  vì phải load lại trang từ đầu, và Phenomic chỉ cần load data, không cần phải\n  load toàn bộ trang web như các công cụ khác\n- Dễ tùy biến, nếu bạn quen làm việc với React.js, Webpack thì bạn sẽ chẳng phải\n  học thêm gì. Bắt tay vào code thôi.\n\n# Tải nội dung\n\n- Các bài viết được viết dưới dạng markdown trên diễn đàn DNH.\n- Đây là topic tổng hợp các viết của khóa học: http://daynhauhoc.com/t/tong-hop-khoa-hoc-lap-trinh-c-danh-cho-nguoi-moi-bat-dau/29429\n- [Đầu tiên mình sẽ tải file markdown của bài viết tổng hợp ở trên về](https://github.com/thangngoc89/dnh-cpp/blob/4053532715b1e4d678a2fe99483f68fddedb018d/scripts/content/fetch-data.js)\n[tại đây](http://daynhauhoc.com/raw/29429)\n- [Chuyển cáu trúc trên thành dạng cây](https://github.com/thangngoc89/dnh-cpp/blob/4053532715b1e4d678a2fe99483f68fddedb018d/scripts/content/parse-toc.js)\n- [Cuối cùng là tải từng bài viết về và lưu vào thư mục `content`](https://github.com/thangngoc89/dnh-cpp/blob/4053532715b1e4d678a2fe99483f68fddedb018d/scripts/content/download-post.js)\n\n# Tự động tạo và đăng tải website\n\n- Mình dùng [Travis CI](https://travis-ci.org) để tự động tạo và đăng tải website mỗi khi mình push bất kì chỉnh sửa nào lên Github.\n\n> [Hướng dẫn cầu hình Travis CI từ Phenomic](https://phenomic.io/docs/usage/gh-pages/#automatically-with-travis-ci)\n\n- Travis CI cũng đảm nhận việc đăng tải website hoàn thành lên Github\n\n# Tự động tạo trang web mỗi ngày\n\nVì Travis CI chỉ chạy mỗi khi mình push lên Github nên mình cần phải thiết lập\ncronjob tự động kích hoạt Travis CI build mỗi ngày 2 lần để cập nhật các nội\ndung mới của khóa học.\n\nSuy nghĩ đầu tiên là dùng một host/ VPS nào đó để thực hiện việc này.\n\nVPS rẻ nhất là cỡ $5/tháng, và chạy một VPS 24/7 để chỉ thực hiện một công việc\nmỗi ngày 2 lần là quá phí phạm. (Dù gì thì host toàn bộ trang web chẳng tốn\nbất kì chi phí nào mà).\n\nHost free với cronjob cũng là một lưa chọn, nhưng:\n\n  - Mình không chơi với PHP nữa :D\n  - Đoạn script để kích hoạt Travis CI cần Github token của mình nên bỏ token đó\n    lên shared host không an toàn tí nào.\n\nGiải pháp của mình là dùng Amazon Lambda kèm với Amazon Cloudwatch để thay thế\ncronjob. Mình chọn [Serverless Framework](https://serverless.com/) để tự động\nhóa việc upload, và thiết lập Amazon Lambda cho mình. (Vì Dashboard của AWS\nrất củ chuối).\n\nCác bạn có thể xem [toàn bộ Lambda function kèm với cấu hình ở đây](https://github.com/thangngoc89/dnh-cpp/tree/4053532715b1e4d678a2fe99483f68fddedb018d/cron)\n\nChi phí cho Amazon Lambda và Cloudwatch là siêu rẻ. Mình ước tính khoảng\n$0.0002/tháng. [- xem chi tiết](https://gist.github.com/thangngoc89/7775c62a93d69800010bdcc0c8889f6c)\n\n# Kết luận\n\nWeb tĩnh là một xu hướng hiện nay, dùng đúng công cụ và dịch vụ, các bạn có thể\ntạo ra một trang web hoàn toàn miễn phí sẵn sàng phục vụ cho hàng triệu lượt\ntruy cập mỗi tháng.\n","raw":"---\nlayout: Post\ntitle: 'Tôi đã thiết kế trang web học C++ của Dạy Nhau Học phục vụ hàng chục nghìn\nlượt truy cập mối tháng mà chỉ tốn $0.0002/tháng như thế nào'\ndate: 2016-09-11 17:00:00\ntags: [case study, phenomic, static website]\ndraft: true\ntoc: false\n---\n\nNếu bạn là thành viên của [Dạy Nhau Học (DNH)](http://daynhauhoc.com) thì các bạn có\nthể đã biết đến khóa học của [anh Đạt admin (@ltd)](http://daynhauhoc.com/users/ltd/activity)\n\nKhóa học này (có phí) gồm các [video được đăng trên Udemy](https://www.udemy.com/c-co-ban-danh-cho-nguoi-moi-hoc-lap-trinh/) kèm với\nđó là [trang web đăng tải các bài học miễn phí](http://cpp.daynhauhoc.com).\n\n[![DNH C++ screenshot](./1-website-screen-shot.jpg)](http://cpp.daynhauhoc.com)\n\nTrong bài viết này mình sẽ giới thiệu các công nghệ đã sử dụng để tạo ra một\ntrang web tương tự mà không tốn chi phí hosting cũng như là thời gian để quản\nlí và nâng cấp.\n\n# Web tĩnh (static website)\n\nWeb tĩnh có nghĩa là máy sẽ gửi trực tiếp các file HTML về cho người dùng mà\nkhông cần phải phải qua xử lí với PHP, Node.js, Ruby hay bất kì ngôn ngữ nào.\n\nƯu điểm của static website:\n\n- An toàn: Chẳng có bất kì logic để hacker lợi dụng ở đây. Nếu hacker có vào được\nmáy chủ của bạn thì thứ mà hắn ta thấy chỉ là các file HTML. Bạn không cần là một\nhacker cũng có thể tải tất cả các file này về với một dòng lệnh\n\n```sh\n$ wget \\\n     --recursive \\\n     --no-clobber \\\n     --page-requisites \\\n     --convert-links \\\n     --restrict-file-names=windows \\\n     --domains website.org \\\n     --no-parent \\\n         www.website.org/tutorials/html/\n```\n\n(Nguồn: [Linux Journal](http://www.linuxjournal.com/content/downloading-entire-web-site-wget))\n\n- Nhanh: Máy chủ chỉ việc gửi các file HTML có sẵn về nên truy cập web tĩnh\nsẽ siêu nhanh. Có thể đạt tốc độ mili giây mà không cần phải tối ưu hóa gì\n\n- Rẻ: Vì web tĩnh là một xu hướng hiện nay nên có nhiều dịch vụ chuyên về hosting\ncho web tĩnh. Một số dịch vụ còn miễn phí. Ví dụ:\n  - [Github Pages](https://pages.github.com) - Miễn phí hoàn toàn. Mình dùng\n    Github Pages để host website Học C++\n  - [Gitlab Pages](https://pages.gitlab.com) - Miễn phí hoàn toàn\n  - [Amazon S3 + Amazon Cloudfront](https://aws.amazon.com) - Trả phí, tính theo\n    dung lượng và băng thông\n  - [Netlify](https://netlify.com) - Miễn phí kèm các gói nâng cấp từ $9 đến $49/ tháng\n  - [Surge.sh](https://surge.sh) - Miễn phí kèm gói nâng cấp $9\n  - [Aerobatic](https://www.aerobatic.com/) - Miễn phí kèm với các gói nâng cấp\n    từ $10 đến 200$/ tháng\n\n> Tham khảo thêm :\n> - [What is a static website](http://nilclass.com/courses/what-is-a-static-website)\n> - [Why Static? - by DatoCMS](https://www.datocms.com/why-static/)\n\n# Công cụ tạo trang web tĩnh (Static site generator - SSG)\n\nVì sao lại cần một công cụ?\n\nVì viết HTML bằng tay rất dễ bị lỗi và bạn phải lập lại nhiều phần ở mỗi trang\nnhư header, footer, ...\n\nMột vài công cụ nổi tiếng\n[Jekyll](http://jekyllrb.com/),\n[Hugo](http://gohugo.io/),\n[Metalsmith](http://www.metalsmith.io/)\n\n[Staticgen.com](https://www.staticgen.com/) là một danh sách tổng hợp tất cả\ncác SSG\n\nỞ đây mình chọn [Phenomic](https://phenomic.io). Vì một số lí do sau đây:\n\n- Mình đóng góp một số lượng lớn code vào project này (115 commit tính đến thời\n  điểm viết bài)\n- Nó dựa trên React.js và mình thì thích React.js\n- Trang web tạo ra sẽ giống một web app: chuyển trang dùng history.pushState thay\n  vì phải load lại trang từ đầu, và Phenomic chỉ cần load data, không cần phải\n  load toàn bộ trang web như các công cụ khác\n- Dễ tùy biến, nếu bạn quen làm việc với React.js, Webpack thì bạn sẽ chẳng phải\n  học thêm gì. Bắt tay vào code thôi.\n\n# Tải nội dung\n\n- Các bài viết được viết dưới dạng markdown trên diễn đàn DNH.\n- Đây là topic tổng hợp các viết của khóa học: http://daynhauhoc.com/t/tong-hop-khoa-hoc-lap-trinh-c-danh-cho-nguoi-moi-bat-dau/29429\n- [Đầu tiên mình sẽ tải file markdown của bài viết tổng hợp ở trên về](https://github.com/thangngoc89/dnh-cpp/blob/4053532715b1e4d678a2fe99483f68fddedb018d/scripts/content/fetch-data.js)\n[tại đây](http://daynhauhoc.com/raw/29429)\n- [Chuyển cáu trúc trên thành dạng cây](https://github.com/thangngoc89/dnh-cpp/blob/4053532715b1e4d678a2fe99483f68fddedb018d/scripts/content/parse-toc.js)\n- [Cuối cùng là tải từng bài viết về và lưu vào thư mục `content`](https://github.com/thangngoc89/dnh-cpp/blob/4053532715b1e4d678a2fe99483f68fddedb018d/scripts/content/download-post.js)\n\n# Tự động tạo và đăng tải website\n\n- Mình dùng [Travis CI](https://travis-ci.org) để tự động tạo và đăng tải website mỗi khi mình push bất kì chỉnh sửa nào lên Github.\n\n> [Hướng dẫn cầu hình Travis CI từ Phenomic](https://phenomic.io/docs/usage/gh-pages/#automatically-with-travis-ci)\n\n- Travis CI cũng đảm nhận việc đăng tải website hoàn thành lên Github\n\n# Tự động tạo trang web mỗi ngày\n\nVì Travis CI chỉ chạy mỗi khi mình push lên Github nên mình cần phải thiết lập\ncronjob tự động kích hoạt Travis CI build mỗi ngày 2 lần để cập nhật các nội\ndung mới của khóa học.\n\nSuy nghĩ đầu tiên là dùng một host/ VPS nào đó để thực hiện việc này.\n\nVPS rẻ nhất là cỡ $5/tháng, và chạy một VPS 24/7 để chỉ thực hiện một công việc\nmỗi ngày 2 lần là quá phí phạm. (Dù gì thì host toàn bộ trang web chẳng tốn\nbất kì chi phí nào mà).\n\nHost free với cronjob cũng là một lưa chọn, nhưng:\n\n  - Mình không chơi với PHP nữa :D\n  - Đoạn script để kích hoạt Travis CI cần Github token của mình nên bỏ token đó\n    lên shared host không an toàn tí nào.\n\nGiải pháp của mình là dùng Amazon Lambda kèm với Amazon Cloudwatch để thay thế\ncronjob. Mình chọn [Serverless Framework](https://serverless.com/) để tự động\nhóa việc upload, và thiết lập Amazon Lambda cho mình. (Vì Dashboard của AWS\nrất củ chuối).\n\nCác bạn có thể xem [toàn bộ Lambda function kèm với cấu hình ở đây](https://github.com/thangngoc89/dnh-cpp/tree/4053532715b1e4d678a2fe99483f68fddedb018d/cron)\n\nChi phí cho Amazon Lambda và Cloudwatch là siêu rẻ. Mình ước tính khoảng\n$0.0002/tháng. [- xem chi tiết](https://gist.github.com/thangngoc89/7775c62a93d69800010bdcc0c8889f6c)\n\n# Kết luận\n\nWeb tĩnh là một xu hướng hiện nay, dùng đúng công cụ và dịch vụ, các bạn có thể\ntạo ra một trang web hoàn toàn miễn phí sẵn sàng phục vụ cho hàng triệu lượt\ntruy cập mỗi tháng.\n","__filename":"thiet-ke-trang-web-hoc-cpp-day-nhau-hoc/index.md","__url":"/thiet-ke-trang-web-hoc-cpp-day-nhau-hoc/","__resourceUrl":"/thiet-ke-trang-web-hoc-cpp-day-nhau-hoc/index.html","__dataUrl":"/thiet-ke-trang-web-hoc-cpp-day-nhau-hoc/index.html.2592d6a0d334724d6fd3e9601af0d38c.json"}