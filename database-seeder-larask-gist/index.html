<!doctype html><html lang="en"><head><meta charset="utf-8" /><meta http-equiv="X-UA-Compatible" content="IE=edge" /><meta name="viewport" content="width=device-width, initial-scale=1" /><link rel="stylesheet" href="/phenomic.browser.610d753abb4a53bdb275.css" /><meta data-react-helmet="true" property="og:site_name" content="Khoa Nguyen Blog"/><meta data-react-helmet="true" name="twitter:site" content="@khoanguyenme"/><meta data-react-helmet="true" name="theme-color" content="#0275d8"/><meta data-react-helmet="true" name="msapplication-TileColor" content="#0275d8"/><meta data-react-helmet="true" property="og:title" content="Database Seeder - Tạo dummy data - Larask Gist - Khoa Nguyen Blog"/><meta data-react-helmet="true" property="og:type" content="article"/><meta data-react-helmet="true" property="og:url" content="https://khoanguyen.me/database-seeder-larask-gist/"/><meta data-react-helmet="true" property="og:description" content="[Series] Larask Gist - Thiết lập Database Seeder , chuẩn bị dummy data"/><meta data-react-helmet="true" name="twitter:card" content="summary"/><meta data-react-helmet="true" name="twitter:title" content="Database Seeder - Tạo dummy data - Larask Gist - Khoa Nguyen Blog"/><meta data-react-helmet="true" name="twitter:creator" content="@khoanguyenme"/><meta data-react-helmet="true" name="twitter:description" content="[Series] Larask Gist - Thiết lập Database Seeder , chuẩn bị dummy data"/><meta data-react-helmet="true" name="description" content="[Series] Larask Gist - Thiết lập Database Seeder , chuẩn bị dummy data"/><title data-react-helmet="true">Database Seeder - Tạo dummy data - Larask Gist</title><link data-react-helmet="true" rel="icon" content="/images/favicon.ico"/></head><body><div id="phenomic"><div data-reactroot="" data-reactid="1" data-react-checksum="1876534675"><!-- react-empty: 2 --><div style="margin-bottom:2rem;" class="headroom-wrapper" data-reactid="3"><div style="position:relative;top:0;left:0;right:0;z-index:1;-webkit-transform:translateY(0);-ms-transform:translateY(0);transform:translateY(0);background:#0275d8;box-shadow:1px 2px 2px #aaa;" class="headroom headroom--unfixed" data-reactid="4"><div class="MFe5B" data-reactid="5"><div class="_f1jz" data-reactid="6"><a class="" href="/" data-reactid="7">Khoa Nguyen</a></div><a class="_1djP0" href="/archive/" data-reactid="8"><i class="icon-bookmark" data-reactid="9"></i><span data-reactid="10">Bài viết</span></a><a class="_1djP0" href="/about/" data-reactid="11"><i class="icon-user" data-reactid="12"></i><span data-reactid="13">Giới thiệu</span></a><a href="https://github.com/thangngoc89" target="_blank" class="_1djP0" data-reactid="14"><i class="icon-github" data-reactid="15"></i><span data-reactid="16">Github</span></a><div class="_38hOm" data-reactid="17"><input type="search" placeholder="search..." data-reactid="18"/></div></div></div></div><div data-reactid="19"><div class="container" data-reactid="20"><!-- react-empty: 21 --><!-- react-empty: 22 --><div class="row" data-reactid="23"><div class="LRFOR center-block" data-reactid="24"><h1 class="_1s9g9" data-reactid="25">Database Seeder - Tạo dummy data - Larask Gist</h1><span class="_3gT92" data-reactid="26">13 tháng 3 2015</span><span class="_3j9fr" data-reactid="27"><!-- react-text: 28 -->~ <!-- /react-text --><!-- react-text: 29 -->6 phút<!-- /react-text --></span><article class="bSe9a" data-reactid="30"><p>Đây là bài viết thứ 4 trong series <a href="/gioi-thieu-series-larask-gist/">Laravel Gist</a> .</p>
<p>Các bạn có thể xem code của project tại <a href="http://github.com/larask/gist">Github</a>.</p>
<hr>
<h1 id="Gioi-thieu"><a class="markdownIt-Anchor" href="#Gioi-thieu">#</a> Giới thiệu</h1>
<p>Chúng ta đã tạo migration, model và cả sử dụng Uuid trong model
nhưng chúng ta vẫn chưa có bất cứ dữ liệu nào để sử dụng.</p>
<p>Làm sao để biết ứng dụng của chúng ta chạy đúng theo mong muốn?</p>
<p>Làm sao để kiểm tra mọi trường hợp, mọi kiểu data mà user có thể nhập vào?
Chúng ta có thể tạo data bằng tay rồi sau đó import vào database.</p>
<p>Đó là một công việc hết sức nhàm chán và tốn thời gian.
Để mình chỉ cho các bạn các nhanh hơn.</p>
<h1 id="Truoc-khi-bat-dau"><a class="markdownIt-Anchor" href="#Truoc-khi-bat-dau">#</a> Trước khi bắt đầu</h1>
<p>Hãy chạy lệnh <code>php artisan migrate:refresh</code> để áp dụng schema mà chúng ta đã thay đổi trong bài trước. Lệnh <code>migrate:refresh</code> thực tế là chạy 2 lệnh sau lần lượt: <code>migrate:rollback</code> và <code>migrate</code>. Không có gì mới ở đây cả.</p>
<h1 id="Database-Seeder"><a class="markdownIt-Anchor" href="#Database-Seeder">#</a> Database Seeder</h1>
<p>Các bạn có thể hiểu database seeder là class chứa code để tạo ra dummy data. Khi chạy lệnh <code>php artisan db:seed</code>, Laravel sẽ gọi method <code>run()</code> trong file <code>database/seeds/DatabaseSeeder.php</code> .  Tuy nhiên, để tiện quản lí, chúng ta sẽ tạo riêng cho mỗi table 1 file và gọi các file này từ <code>DatabaseSeeder</code>.</p>
<h1 id="Tao-seeder"><a class="markdownIt-Anchor" href="#Tao-seeder">#</a> Tạo seeder</h1>
<p>Ở <a href="/model-va-migration-trong-laravel-5-gist/">bài trước</a> chúng ta có lệnh <code>php artisan make:model</code> để tạo nhanh model và migration cho model. Laravel đi kèm với 1 danh sách các lệnh để tạo nhanh các file. Các bạn có thể xem toàn bộ lệnh của <code>artisan</code> bằng cách chạy lệnh <code>php artisan</code>. Nhưng rất tiếc, không có lệnh tạo database seeder. Chúng ta sẽ cài đặt package <a href="https://github.com/laracasts/Laravel-5-Generators-Extended">Laravel 5 Generators Extended</a> để có được lệnh này. Về phần cài đặt, các bạn có thể xem readme để cài đặt.</p>
<p>Sau khi cài đặt xong. Chúng ta đã có thể sử dụng <code>php artisan make:seed</code>. Ở đây, mình sẽ chạy 2 lệnh sau để tạo seeder cho User và Gist.</p>
<pre><code class="language-shell"><span class="hljs-selector-tag">php</span> <span class="hljs-selector-tag">artisan</span> <span class="hljs-selector-tag">make</span><span class="hljs-selector-pseudo">:seed</span> <span class="hljs-selector-tag">gist</span>
<span class="hljs-selector-tag">php</span> <span class="hljs-selector-tag">artisan</span> <span class="hljs-selector-tag">make</span><span class="hljs-selector-pseudo">:seed</span> <span class="hljs-selector-tag">user</span></code></pre>
<p>Sau khi hoàn thành chúng ta sẽ có 2 file <code>UserTableSeeder.php</code> và <code>GistTableSeeder.php</code> trong <code>app/database/seeds</code>. Mở file <code>DatabaseSeeder.php</code> trong cùng thư mục và thêm vào trong method <code>run()</code> :</p>
<pre><code class="language-php"><span class="hljs-keyword">$this</span>-&gt;call(UserTableSeeder::class);
<span class="hljs-keyword">$this</span>-&gt;call(GistTableSeeder::class);</code></pre>
<p>File <code>DatabaseSeeder.php</code> của chúng ta lúc này :</p>
<pre><code class="language-php"><span class="hljs-meta">&lt;?php</span>

<span class="hljs-keyword">use</span> <span class="hljs-title">Illuminate</span>\<span class="hljs-title">Database</span>\<span class="hljs-title">Seeder</span>;
<span class="hljs-keyword">use</span> <span class="hljs-title">Illuminate</span>\<span class="hljs-title">Database</span>\<span class="hljs-title">Eloquent</span>\<span class="hljs-title">Model</span>;

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">DatabaseSeeder</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Seeder</span> </span>{
  <span class="hljs-comment">/**
   * Run the database seeds.
   *
   * <span class="hljs-doctag">@return</span> void
   */</span>
  <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">run</span><span class="hljs-params">()</span>
  </span>{
    Model::unguard();

    <span class="hljs-keyword">$this</span>-&gt;call(UserTableSeeder::class);
    <span class="hljs-keyword">$this</span>-&gt;call(GistTableSeeder::class);
  }
}</code></pre>
<p>Từ này, mỗi khi chúng ta chạy lệnh <code>php artisan db:seed</code>, method <code>run()</code> trong <code>UserTableSeeder</code> và <code>GistTableSeeder</code> sẽ được gọi theo thứ tự.</p>
<h1 id="Dummy-Data"><a class="markdownIt-Anchor" href="#Dummy-Data">#</a> Dummy Data</h1>
<p>Bây giờ là phần quan trọng nhất, dummy data. Và để thuận tiện, chung1ta tiếp tục sử dụng 1 package khác của Laracasts : <a href="https://github.com/laracasts/TestDummy">Test Dummy</a>.</p>
<p>Sau khi cài đặt, các bạn mở class <code>UserTableSeeder</code> và thêm vào method <code>run()</code> đoạn :</p>
<pre><code class="language-php">TestDummy::times(<span class="hljs-number">100</span>)-&gt;create(<span class="hljs-string">'Gist\User'</span>);`</code></pre>
<p>Nhớ import class TestDummy vào:</p>
<pre><code class="language-php"><span class="hljs-keyword">use</span> <span class="hljs-title">Laracasts</span>\<span class="hljs-title">TestDummy</span>\<span class="hljs-title">Factory</span> <span class="hljs-title">as</span> <span class="hljs-title">TestDummy</span>;</code></pre>
<p>Mục đích của đoạn code trên là sẽ tạo 100 record cho <code>Gist\User</code> của chúng ta. Tuy nhiên, <code>TestDummy</code> không thần kì tới mức có thể xác định được loại data nào cần sử dụng mà chúng ta cần phải định nghĩa chúng.</p>
<h2 id="TestDummy-Factories"><a class="markdownIt-Anchor" href="#TestDummy-Factories">#</a> TestDummy Factories</h2>
<p>Tạo file <code>tests/factories/factories.php</code>. Trong class <code>UserTableSeeder</code> chúng ta cần <code>Gist\User</code> factory. Vì vậy trong file <code>factories.php</code> chúng ta sẽ định nghĩa factory này như sau:</p>
<pre><code class="language-php"><span class="hljs-meta">&lt;?php</span>

$factory(<span class="hljs-string">'Gist\User'</span>, [
  <span class="hljs-string">'name'</span> =&gt; $faker-&gt;sentence,
  <span class="hljs-string">'username'</span> =&gt; $faker-&gt;unique()-&gt;userName,
  <span class="hljs-string">'email'</span> =&gt; $faker-&gt;unique()-&gt;email,
  <span class="hljs-string">'password'</span> =&gt; $faker-&gt;words, <span class="hljs-comment">// $faker-&gt;password doesn't work</span>
]);</code></pre>
<p><em>Lưu ý: Tên factory chính là namespace của model</em></p>
<p>Các bạn đang thắc mắc <code>$faker</code> là gì? Đó là 1 instance của package <a href="https://github.com/fzaninotto/Faker">fzaninotto/Faker</a> dùng để tạo các thông tin ngẫu nhiên như là <code>lorem ipsum</code> . Các bạn có thể xem đầy đủ các loại thông tin mà Faker hỗ trợ trong file readme.</p>
<p>OK. Thử chạy <code>php artisan db:seed</code>, nếu ko có lỗi gì xảy ra chúng ta sẽ thấy 100 row trong table users. Thật là dễ dàng phải không nào?</p>
<p>Chúng ta tiếp tục thực hiện tương tự đối với <code>Gist</code> Model.</p>
<pre><code class="language-php"><span class="hljs-meta">&lt;?php</span>
<span class="hljs-comment">// app/database/seeders/GistTableSeeder.php</span>

<span class="hljs-keyword">use</span> <span class="hljs-title">Illuminate</span>\<span class="hljs-title">Database</span>\<span class="hljs-title">Seeder</span>;
<span class="hljs-keyword">use</span> <span class="hljs-title">Laracasts</span>\<span class="hljs-title">TestDummy</span>\<span class="hljs-title">Factory</span> <span class="hljs-title">as</span> <span class="hljs-title">TestDummy</span>;

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">GistTableSeeder</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Seeder</span> </span>{
  <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">run</span><span class="hljs-params">()</span> </span>{
      TestDummy::times(<span class="hljs-number">100</span>)-&gt;create(<span class="hljs-string">'Gist\Gist'</span>);
  }
}</code></pre>
<p>Trong file <code>tests/factories/factories.php</code> thêm vào :</p>
<pre><code class="language-php">$factory(<span class="hljs-string">'Gist\Gist'</span>, [
  <span class="hljs-string">'title'</span> =&gt; $faker-&gt;sentence,
  <span class="hljs-string">'content'</span> =&gt; $faker-&gt;paragraph,
  <span class="hljs-string">'public'</span> =&gt; $faker-&gt;boolean,
  <span class="hljs-string">'user_id'</span> =&gt; <span class="hljs-string">'factory:Gist\User'</span>,
]);</code></pre>
<p>Mục cần chúng ta cần chú ý đó chính là <code>user_id</code> . <code>factory:Gist\User</code> sẽ chỉ <code>TestDummy</code> lấy 1 id của <code>Gist\User</code> factory chèn vào đó. Như vậy chúng ta đã có <code>Gist\Gist</code> factory.</p>
<p>Chạy thử: <code>php artisan db:seed</code> và 100 row sẽ xuất hiện trong <code>gists</code> table. Nhưng có 2 vấn đề xảy ra:</p>
<ol>
<li>Trong <code>users</code> table, 100 row mới sẽ xuất hiện và chúng ta có tất cả 200 rows trong <code>users</code> table.</li>
<li>Tất cả  <code>user_id</code> đều giống nhau trong <code>gists</code> table.</li>
</ol>
<p>Chúng ta sẽ lần lượt giải quyết chúng trong các phần tiếp theo.</p>
<h2 id="Truncate-Table"><a class="markdownIt-Anchor" href="#Truncate-Table">#</a> Truncate Table</h2>
<p>Để tránh việc có thêm 100 dòng mỗi khi chạy <code>db:seed</code> chúng ta sẽ chạy lệnh <code>TRUNCATE TABLE table-name</code> trước khi seed.</p>
<p>Mở class <code>DatabaseSeeder</code> và thêm vào đầu method <code>run()</code></p>
<pre><code class="language-php">DB::statement(<span class="hljs-string">'TRUNCATE TABLE users'</span>);
DB::statement(<span class="hljs-string">'TRUNCATE TABLE gists'</span>);</code></pre>
<p>Thử chạy và lỗi <code>constraint</code> sẽ xuất hiện do foreign constrain giữa <code>users</code> table và <code>gists</code> table.</p>
<p>Chúng ta có để đổi vị trí của 2 dòng code cho nhau để khắc phục lỗi constraint. Tuy nhiên đó không phải giải pháp lâu dài, vì khi ứng dụng phát triển, các table có quan hệ chặt chẽ với nhau và chúng ta không thể nào xác định được table nào <code>truncate</code> trước sẽ không bị lỗi. Giải pháp của chúng ta là sẽ tắt kiểm tra <code>foreign key</code> trước khi <code>truncate</code> và bật lại nó sau khi đã hoàn thành.</p>
<p>Đây là method <code>run()</code> hoàn chỉnh sau khi đã tích hợp lệnh :</p>
<pre><code class="language-php"><span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">run</span><span class="hljs-params">()</span>
</span>{
  DB::statement(<span class="hljs-string">'SET FOREIGN_KEY_CHECKS=0'</span>);

  DB::statement(<span class="hljs-string">'TRUNCATE TABLE users'</span>);
  DB::statement(<span class="hljs-string">'TRUNCATE TABLE gists'</span>);

  DB::statement(<span class="hljs-string">'SET FOREIGN_KEY_CHECKS=0'</span>);

  Model::unguard();

  <span class="hljs-keyword">$this</span>-&gt;call(UserTableSeeder::class);
  <span class="hljs-keyword">$this</span>-&gt;call(GistTableSeeder::class);
}</code></pre>
<h2 id="Tao-user_id-khac-nhau"><a class="markdownIt-Anchor" href="#Tao-user_id-khac-nhau">#</a> Tạo user_id khác nhau</h2>
<p>Như chúng ta đã biết ở trên thì khi chạy <code>db:seed</code> tất cả <code>user_id</code> trong <code>gists</code> table sẽ giống nhau. Đây không phải là lỗi mà là cơ chế hoạt động của <code>TestDummy</code>. Để khắc phục, thay vì ra lệnh cho <code>TestDummy</code> tạo 100 row thì chúng ta sẽ chạy <code>TestDummy</code> 100 lần, mỗi lần tạo 1 row.</p>
<pre><code class="language-php"><span class="hljs-meta">&lt;?php</span>

<span class="hljs-keyword">use</span> <span class="hljs-title">Illuminate</span>\<span class="hljs-title">Database</span>\<span class="hljs-title">Seeder</span>;
<span class="hljs-keyword">use</span> <span class="hljs-title">Laracasts</span>\<span class="hljs-title">TestDummy</span>\<span class="hljs-title">Factory</span> <span class="hljs-title">as</span> <span class="hljs-title">TestDummy</span>;

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">GistTableSeeder</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Seeder</span> </span>{
  <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">run</span><span class="hljs-params">()</span> </span>{
    <span class="hljs-keyword">foreach</span>(range(<span class="hljs-number">0</span>,<span class="hljs-number">100</span>) <span class="hljs-keyword">as</span> $index) {
        TestDummy::times(<span class="hljs-number">1</span>)-&gt;create(<span class="hljs-string">'Gist\Gist'</span>);
    }
  }
}</code></pre>
<p>Tuy nhiên, đoạn code trên vẫn chưa tối ưu lắm vì 1 user chỉ có 1 Gist. (có thể <code>TestDummy</code> sẽ chọn lại 1 user_id bị trùng nhưng xác suất là rất thấp). Để tạo ra 1 database ngẫu nhiên hơn nữa. Chúng ta sẽ dùng function <code>rand()</code>.</p>
<pre><code class="language-php"><span class="hljs-meta">&lt;?php</span>

<span class="hljs-keyword">use</span> <span class="hljs-title">Illuminate</span>\<span class="hljs-title">Database</span>\<span class="hljs-title">Seeder</span>;
<span class="hljs-keyword">use</span> <span class="hljs-title">Laracasts</span>\<span class="hljs-title">TestDummy</span>\<span class="hljs-title">Factory</span> <span class="hljs-title">as</span> <span class="hljs-title">TestDummy</span>;

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">GistTableSeeder</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Seeder</span> </span>{
  <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">run</span><span class="hljs-params">()</span> </span>{
    <span class="hljs-keyword">foreach</span>(range(<span class="hljs-number">0</span>,<span class="hljs-number">100</span>) <span class="hljs-keyword">as</span> $index) {
      TestDummy::times(rand(<span class="hljs-number">1</span>,<span class="hljs-number">5</span>))-&gt;create(<span class="hljs-string">'Gist\Gist'</span>);
    }
  }
}</code></pre>
<p>Như vậy, chúng ta sẽ chạy <code>TestDummy</code> 100 lần, mỗi lần <code>TestDummy</code> sẽ thêm vào ngẫu nhiên 1-5 records. Các bạn có thể muốn giảm 100 xuống 1 con số thấp hơn để khỏi mất công chờ.</p>
<h1 id="Ket-luan"><a class="markdownIt-Anchor" href="#Ket-luan">#</a> Kết luận</h1>
<p>Qua bài này, các bạn đã biết được cách dùng <code>TestDummy</code> kết hợp với <code>Faker</code> để tạo dummy data phục vụ cho việc develop và testing.</p>
<p>Mình và anh <a href="http://blog.luuhoangnam.com/">Nam</a> đã push vài commit để hiển thị các database này ra ngoài dưới dạng json. Các bạn có thể clone về, cài đặt như bình thường (xem file readme) và truy cập vào route <code>/trending</code> để xem thử.</p>
</article><div class="_2M5DN" data-reactid="31"><a href="/detour-gioi-thieu-va-su-dung-uuid-voi-larask-gist/" data-reactid="32"><i class="icon-left-open-big" data-reactid="33"></i><!-- react-text: 34 -->Detour - Giới thiệu và sử dụng UUID<!-- /react-text --></a></div><div class="_3ts3L" data-reactid="35"><a href="/blog-minh-thuong-doc/" data-reactid="36"><!-- react-text: 37 -->Blog mình thường đọc<!-- /react-text --><i class="icon-right-open-big" data-reactid="38"></i></a></div><p class="_3iv3I" data-reactid="39"><!-- react-text: 40 -->Bài viết sai chính tả? Có điểm chưa rõ ràng?<!-- /react-text --><!-- react-text: 41 -->  <!-- /react-text --><a href="https://github.com/thangngoc89/blog-posts/blob/master/database-seeder-larask-gist.md" target="_blank" data-reactid="42">Sửa bài viết trên Github</a></p><div data-reactid="43"><div class="_7159-" style="height:10rem;" data-reactid="44">Loading Disqus...</div></div></div></div></div></div><footer class="_3WpLN" data-reactid="45"><div class="row" data-reactid="46"><div class="_18mzr" data-reactid="47"><p data-reactid="48"><!-- react-text: 49 -->Built with<!-- /react-text --><span class="_25_q4" data-reactid="50"> ♥ </span><!-- react-text: 51 -->by Khoa Nguyen<!-- /react-text --></p><p data-reactid="52"><a target="_blank" href="https://github.com/thangngoc89/blog" data-reactid="53">Source code available under MIT License</a></p></div><div class="_3LfEc" data-reactid="54"><p data-reactid="55">Copyright©2015-present, Khoa Nguyen</p></div></div></footer></div></div><script>window.__COLLECTION__ = [{"layout":"PageError","route":"404.html","description":"","__filename":"404.md","__url":"/404.html","__resourceUrl":"/404.html","__dataUrl":"/404.html.621d497b9b3643e03358f2d161e79b45.json"},{"title":"Giới thiệu","layout":"Page","description":"Vài điều cơ bản về mình Mình là Khoa Mình học ngành Y Mình thích viết blog và lập trình Lập trình rất vui Hãy như Khoa Ngôn ngữ ? Mình chủ yếu tìm hiểu về viết web. Các ngôn ngữ mình dùng…","__filename":"about.md","__url":"/about/","__resourceUrl":"/about/index.html","__dataUrl":"/about/index.html.5bc25862bafcedf70de2cd84d8f59dc4.json"},{"title":"Bài viết","layout":"Archive","description":"","__filename":"archive.md","__url":"/archive/","__resourceUrl":"/archive/index.html","__dataUrl":"/archive/index.html.352adcd92f810a253a436c741221ba1d.json"},{"layout":"Post","title":"[Black Friday 2014] Namecheap giảm giá Domain/Hosting chỉ còn $0.98","date":"2014-11-27T13:49:22.000Z","tags":["namecheap","domain","black-friday"],"toc":false,"description":"namecheap Hưởng ứng Black Friday năm nay Namecheap đã mang đến cho người dùng coupon giảm giá còn $0.98/năm cho việc thanh toán khi đăng ký hoặc transfer domain các loại. Các khuyến mãi cụ thể mà…","__filename":"black-friday-2014-namecheap-giam-gia-domainhosting-chi-con-0-98.md","__url":"/black-friday-2014-namecheap-giam-gia-domainhosting-chi-con-0-98/","__resourceUrl":"/black-friday-2014-namecheap-giam-gia-domainhosting-chi-con-0-98/index.html","__dataUrl":"/black-friday-2014-namecheap-giam-gia-domainhosting-chi-con-0-98/index.html.0879185b611c55b8dcf01a3876aefde2.json"},{"layout":"Post","title":"Blog mình thường đọc","date":"2015-03-15T06:00:00.000Z","description":"Tập hợp blog mình thích đọc và follow ","tags":["link"],"toc":false,"__filename":"blog-minh-thuong-doc.md","__url":"/blog-minh-thuong-doc/","__resourceUrl":"/blog-minh-thuong-doc/index.html","__dataUrl":"/blog-minh-thuong-doc/index.html.57728cfced2a7b29da46f07108305714.json"},{"layout":"Post","title":"[BOT] MultiTools Paidverts & BTCClicks & ProBux v3","date":"2014-11-16T09:48:08.000Z","tags":["mmo","bot"],"description":"MultiTools for Paidverts BTCClicks Probux Mở đầu Trong bài này mình sẽ hướng dẫn các bạn sử dụng MultiTools của tác giả Bloons97. Đây là một bot mạnh mẽ được viết trên C# và được tác giả cập nhật…","__filename":"bot-multitools-paidverts-btcclicks-probux-v3.md","__url":"/bot-multitools-paidverts-btcclicks-probux-v3/","__resourceUrl":"/bot-multitools-paidverts-btcclicks-probux-v3/index.html","__dataUrl":"/bot-multitools-paidverts-btcclicks-probux-v3/index.html.4cad5cbaba7cc49f50969990efa5053f.json"},{"layout":"Post","title":"Cách xem quảng cáo trên Paidverts","date":"2014-11-15T22:24:03.000Z","tags":["mmo"],"description":"Trong bài trước mình đã Giới thiệu cơ bản về PaidVerts. Trong bài này mình sẽ tiếp tục hướng dẫn cách xem quảng cáo trên PaidVerts. Hướng dẫn xem quảng cáo trên PaidVerts Truy cập vào https&#x3A…","__filename":"cach-xem-quang-cao-tren-paidverts.md","__url":"/cach-xem-quang-cao-tren-paidverts/","__resourceUrl":"/cach-xem-quang-cao-tren-paidverts/index.html","__dataUrl":"/cach-xem-quang-cao-tren-paidverts/index.html.99e5aabd630f23a79b9b2919d8181005.json"},{"layout":"Post","title":"[Laravel cơ bản] Cài đặt Laravel","date":"2015-01-05T19:36:03.000Z","description":"Cài đặt Laravel - Series Laravel cơ bản","tags":["laravel"],"__filename":"cai-dat-laravel.md","__url":"/cai-dat-laravel/","__resourceUrl":"/cai-dat-laravel/index.html","__dataUrl":"/cai-dat-laravel/index.html.f63e167aae92b8db3b7c3980bc4655a5.json"},{"layout":"Post","title":"Cài đặt Node.JS trên Windows","date":"2015-01-05T04:48:11.000Z","tags":["js"],"toc":false,"description":"Hôm qua mình có cài lại máy, kéo theo đó là một số chương trình cho việc lập trình trong đó có NodeJS. Nhưng mà khi cài vào mình phải dùng Node.JS Command Prompt được đi kèm thì mới gọi được lệnh…","__filename":"cai-dat-nodejs-tren-windows.md","__url":"/cai-dat-nodejs-tren-windows/","__resourceUrl":"/cai-dat-nodejs-tren-windows/index.html","__dataUrl":"/cai-dat-nodejs-tren-windows/index.html.f877b8e7d6ef53b14ecadbb6e6560075.json"},{"layout":"Post","title":"Cài đặt Wine chạy các ứng dụng Windows trên Ubuntu","date":"2014-11-16T13:31:45.000Z","tags":["vps"],"description":"Mở đầu Chắc hẳn các bạn ai cũng biết, giá VPS linux thường rẻ hơn VPS Windows (phí bản quyền) nhưng hầu hết các ứng dụng kiếm tiền (cũng như các ứng dụng cơ bản khác) đều chỉ có thể chạy trên Windows…","__filename":"cai-dat-wine-tren-ubuntu.md","__url":"/cai-dat-wine-tren-ubuntu/","__resourceUrl":"/cai-dat-wine-tren-ubuntu/index.html","__dataUrl":"/cai-dat-wine-tren-ubuntu/index.html.ddf4ba39a761f7108f033b08403550f3.json"},{"layout":"Post","title":"Câu lệnh Bash bạn hay sử dụng","date":"2016-01-26T07:00:00.000Z","tags":["bash"],"toc":false,"description":"Nếu bạn muốn xem các câu lệnh bash được sử dụng nhiều nhất hãy gõ lệnh sau vào Terminal (Linux và MacOSX đều chạy): Đây là danh sách những câu lệnh được dùng nhiều nhất của mình (Linux Mint) Của bạn…","__filename":"cau-lenh-bash-duoc-ban-dung-nhieu-nhat.md","__url":"/cau-lenh-bash-duoc-ban-dung-nhieu-nhat/","__resourceUrl":"/cau-lenh-bash-duoc-ban-dung-nhieu-nhat/index.html","__dataUrl":"/cau-lenh-bash-duoc-ban-dung-nhieu-nhat/index.html.b551024a29c683f4454603ffb3e3330c.json"},{"layout":"Post","title":"Chuyển đổi Blog từ Wordpress sang Ghost","date":"2015-01-07T13:48:54.000Z","tags":["meta"],"toc":false,"description":"Hôm nay mình đã hoàn thành việc chuyển đổi và chính thức sử dụng Ghost cho Blog của mình Ghost : [http://ghost.org] Một số lí do mình sử dụng Ghost Trình soạn thảo Markdown thích hợp cho việc viết…","__filename":"chuyen-doi-blog-tu-wordpress-sang-ghost.md","__url":"/chuyen-doi-blog-tu-wordpress-sang-ghost/","__resourceUrl":"/chuyen-doi-blog-tu-wordpress-sang-ghost/index.html","__dataUrl":"/chuyen-doi-blog-tu-wordpress-sang-ghost/index.html.7ced41fdff96b477beb88ea83bad87c1.json"},{"layout":"Post","title":"Database Seeder - Tạo dummy data - Larask Gist","date":"2015-03-13T17:00:00.000Z","description":"[Series] Larask Gist - Thiết lập Database Seeder , chuẩn bị dummy data","tags":["laravel"],"__filename":"database-seeder-larask-gist.md","__url":"/database-seeder-larask-gist/","__resourceUrl":"/database-seeder-larask-gist/index.html","__dataUrl":"/database-seeder-larask-gist/index.html.c357563a814f7322a939449f9a765edf.json"},{"layout":"Post","title":"Detour - Giới thiệu và sử dụng UUID","date":"2015-03-13T10:00:00.000Z","description":"[Series] Larask Gist - Sử dụng UUID để bảo vệ những thông tin nhạy cảm của ứng dụng","tags":["laravel"],"__filename":"detour-gioi-thieu-va-su-dung-uuid-voi-larask-gist.md","__url":"/detour-gioi-thieu-va-su-dung-uuid-voi-larask-gist/","__resourceUrl":"/detour-gioi-thieu-va-su-dung-uuid-voi-larask-gist/index.html","__dataUrl":"/detour-gioi-thieu-va-su-dung-uuid-voi-larask-gist/index.html.3b1acc096803d3d501fc4dc6cb7b2267.json"},{"layout":"Post","title":"DigitalOcean : Cách đăng kí VPS và sử dụng promo code","date":"2014-11-17T10:12:01.000Z","tags":["vps"],"description":"VPS là gì ? VPS (Vitrual Private Servers) là 1 server ảo có khả năng chạy 24/24 các chương trình mà bạn thiết lập. Bạn có thể chạy các chương trình để kiếm tiền hoặc đặt một website/blog lên đó khi…","__filename":"digitalocean-dang-ki-vps-va-coupon.md","__url":"/digitalocean-dang-ki-vps-va-coupon/","__resourceUrl":"/digitalocean-dang-ki-vps-va-coupon/index.html","__dataUrl":"/digitalocean-dang-ki-vps-va-coupon/index.html.9e647da88e82b36d3ea904e8fac92229.json"},{"layout":"Post","title":"@each với Laravel Blade","date":"2015-03-16T10:00:00.000Z","description":"Sử dụng @each trong Laravel Blade để giúp template gọn gàng hơn","tags":["laravel"],"toc":false,"__filename":"each-voi-laravel-blade.md","__url":"/each-voi-laravel-blade/","__resourceUrl":"/each-voi-laravel-blade/index.html","__dataUrl":"/each-voi-laravel-blade/index.html.01a4d2f971ecfa3c0ded57dc3800f52e.json"},{"layout":"Post","title":"Tổng quan ES6 qua 350 điểm","date":"2016-02-21T20:20:00.000Z","tags":["js"],"draft":true,"translate":{"url":"https://ponyfoo.com/articles/es6","author":"Pony Foo"},"description":"Giới thiệu ES6, còn được biết với tên Harmony, es-next, ES2015 là bản mô tả mới nhất của Javascript Bản mô tả ES6 hoàn thành vào tháng 6 năm 2015 (vì vậy mới gọi là ES2015) Các bản mô tả tiếp theo…","__filename":"es6.md","__url":"/es6/","__resourceUrl":"/es6/index.html","__dataUrl":"/es6/index.html.97b846829a06bc39a3d3a977f66c58e8.json"},{"layout":"Post","title":"Facebook Comment Responsive","date":"2015-01-07T10:16:10.000Z","tags":["css"],"description":"Mặc định thì Facebook Comment không hỗ trợ responsive, tuy nhiên với 1 ít hack với CSS và HTML5, Facebook Comment ngay lập tức sẽ hỗ trợ responsive. Lấy code Facebook Comments Truy cập vào Facebook…","__filename":"facebook-comment-responsive.md","__url":"/facebook-comment-responsive/","__resourceUrl":"/facebook-comment-responsive/index.html","__dataUrl":"/facebook-comment-responsive/index.html.803bb5549bda7042018980c203ca994e.json"},{"layout":"Post","title":"Free VPS 7 ngày 2GB RAM Windows Server từ CloudSigma","date":"2014-11-24T21:46:11.000Z","tags":["vps"],"toc":false,"description":"Hiện tại CloudSigma đang có chương trình free trial VPS với các thông số như sau: 2GB RAM CPU 2GHz Bandwidth 5 GB (vừa đủ để anh em nhà mình chiến hitleap trong 1 tuần) Mình đã tạo cỡ 10 tài khoản…","__filename":"free-vps-7-ngay-2gb-ram-windows-server-cloudsigma.md","__url":"/free-vps-7-ngay-2gb-ram-windows-server-cloudsigma/","__resourceUrl":"/free-vps-7-ngay-2gb-ram-windows-server-cloudsigma/index.html","__dataUrl":"/free-vps-7-ngay-2gb-ram-windows-server-cloudsigma/index.html.40cfd9c91a4af672a2cdf1340a927cf6.json"},{"layout":"Post","title":"Giới thiệu Discourse","date":"2014-12-01T17:53:10.000Z","tags":["discourse"],"description":"Discourse là gì? Discourse là một dự án mã nguồn mở để xây dựng một nền tảng thảo luận online có thể dùng với các mục đích sau : Danh sách gửi mail Một diễn đàn thảo luận Một chat room Mục tiêu…","__filename":"gioi-thieu-discourse.md","__url":"/gioi-thieu-discourse/","__resourceUrl":"/gioi-thieu-discourse/index.html","__dataUrl":"/gioi-thieu-discourse/index.html.aa4eff64a4f80d38f15f22beeec6dd4d.json"},{"layout":"Post","title":"Giới thiệu Series Discourse cơ bản","date":"2015-01-07T08:30:20.000Z","tags":["discourse"],"toc":false,"description":"Discourse là một dự án mã nguồn mở để xây dựng một nền tảng thảo luận online có thể dùng với các mục đích sau : Danh sách gửi mail Một diễn đàn thảo luận Một chat room Mục tiêu của Discourse là…","__filename":"gioi-thieu-series-discourse-co-ban.md","__url":"/gioi-thieu-series-discourse-co-ban/","__resourceUrl":"/gioi-thieu-series-discourse-co-ban/index.html","__dataUrl":"/gioi-thieu-series-discourse-co-ban/index.html.864bd2fa100960ead18ab05f72928423.json"},{"layout":"Post","title":"Giới thiệu series Larask Gist","date":"2015-03-12T13:00:00.000Z","description":"[Series] Larask Gist - A Laravel 5 Github Clone","tags":["laravel"],"__filename":"gioi-thieu-series-larask-gist.md","__url":"/gioi-thieu-series-larask-gist/","__resourceUrl":"/gioi-thieu-series-larask-gist/index.html","__dataUrl":"/gioi-thieu-series-larask-gist/index.html.558bbeefb435a9f0231a2edcd5e7648d.json"},{"layout":"Post","title":"Giới thiệu Series Laravel 4 cơ bản","date":"2015-01-04T14:46:23.000Z","tags":["laravel"],"description":"Giới thiệu Laravel Laravel là một Framework mã nguồn mở sử mô hình MVC (Model-View-Controller) mạnh mẽ giúp bạn có thể dễ dàng tạo ra các ứng dụng PHP từ đơn giản đến phức tạp nhất một các nhanh…","__filename":"gioi-thieu-series-laravel-4-co-ban.md","__url":"/gioi-thieu-series-laravel-4-co-ban/","__resourceUrl":"/gioi-thieu-series-laravel-4-co-ban/index.html","__dataUrl":"/gioi-thieu-series-laravel-4-co-ban/index.html.9945176ef4fd33a01967a23d76638f57.json"},{"layout":"Post","title":"iMacros Omnia3 cắm máy kiếm euro tự động","date":"2014-11-23T10:51:23.000Z","toc":false,"tags":["laravel"],"description":"Update Mình đã ngừng hỗ trợ cho Ommia3 vì nghi vấn scam * * * Ở post trước mình đã có giới thiệu sơ lược về Omnia3  sau 1 ngày nghiên cứu thì mình thấy là site này có rate rất cao nên mình đã viết…","__filename":"imacros-omnia3-cam-may-kiem-euro-tu-dong.md","__url":"/imacros-omnia3-cam-may-kiem-euro-tu-dong/","__resourceUrl":"/imacros-omnia3-cam-may-kiem-euro-tu-dong/index.html","__dataUrl":"/imacros-omnia3-cam-may-kiem-euro-tu-dong/index.html.2d21d28fbf7062fd79cb9c1329176778.json"},{"title":"Khoa Nguyen Blog","layout":"Homepage","description":"","__filename":"index.md","__url":"/","__resourceUrl":"/index.html","__dataUrl":"/index.html.91fc28acc75f8be50d02def43fbf87e6.json"},{"layout":"Post","title":"json ⊄ js","date":"2016-02-19T23:22:00.000Z","tags":["js","json"],"translate":{"url":"https://medium.com/joys-of-javascript/json-js-42a28471221d#.m23ozaapw","author":"Dan Pupius"},"description":"Mọi người thường nói rằng JSON là một phần nhỏ (subset) của Javascript. Vấn đề là nó không phải như vậy. Dựa vào spec của JSON, một chuỗi có thể chứa bất cứ kí tự unicode nào ngoại trừ \" hoặc / hoặc…","__filename":"json-js.md","__url":"/json-js/","__resourceUrl":"/json-js/index.html","__dataUrl":"/json-js/index.html.f31a458895df66d2dbc2a8574fde3a6c.json"},{"layout":"Post","title":"Kiếm tiền bằng cách rút gọn và chia sẽ link với Oni.vi (10.000 VND/ 1000 view)","date":"2014-11-23T11:50:29.000Z","tags":["mmo"],"description":"Update 12/01/2015 Oni.vn hiện tại đã dừng hoạt động * * * TƯNG BỪNG KHAI TRƯƠNG NHẬN QUÀ HẤP DẪN \\[​IMG] NHẬN NGAY 10.000 VND CHO MỖI 1000 LƯỢT XEM LINK (1 VIEW = 10 VND) \\[​IMG] \\[​IMG]   HỆ…","__filename":"kiem-tien-bang-cach-rut-gon-va-chia-se-link-voi-oni-vn.md","__url":"/kiem-tien-bang-cach-rut-gon-va-chia-se-link-voi-oni-vn/","__resourceUrl":"/kiem-tien-bang-cach-rut-gon-va-chia-se-link-voi-oni-vn/index.html","__dataUrl":"/kiem-tien-bang-cach-rut-gon-va-chia-se-link-voi-oni-vn/index.html.8e949c78adc68b47d39046f1cca2ff96.json"},{"layout":"Post","title":"Laragon - Cài đặt Laravel trong 1 phút","date":"2015-03-11T20:00:00.000Z","description":"Hướng dẫn cài đặt Laragon - Laravel 5/4.2 trong một phút","tags":["laravel"],"__filename":"laragon-cai-dat-laravel-trong-mot-phut.md","__url":"/laragon-cai-dat-laravel-trong-mot-phut/","__resourceUrl":"/laragon-cai-dat-laravel-trong-mot-phut/index.html","__dataUrl":"/laragon-cai-dat-laravel-trong-mot-phut/index.html.520233e7f40951bd7c6b66284fe78656.json"},{"layout":"Post","title":"Cài đặt và thiết lập cơ bản cho Larask Gist","date":"2015-03-12T18:00:00.000Z","description":"Hướng dẫn cài đặt Laravel 5 và thiết lập cơ bản cho ứng dụng","tags":["laravel"],"__filename":"larask-gist-cai-dat-va-cau-hinh-co-ban.md","__url":"/larask-gist-cai-dat-va-cau-hinh-co-ban/","__resourceUrl":"/larask-gist-cai-dat-va-cau-hinh-co-ban/index.html","__dataUrl":"/larask-gist-cai-dat-va-cau-hinh-co-ban/index.html.3febe1b8f0982d7295e3a34689132aea.json"},{"layout":"Post","title":"Migration và Model trong Laravel 5 - Larask Gist","date":"2015-03-12T19:00:00.000Z","description":"Hướng dẫn tạo và sử dụng migration trong Laravel 5 - Series Larask Gist","tags":["laravel"],"__filename":"model-va-migration-trong-laravel-5-gist.md","__url":"/model-va-migration-trong-laravel-5-gist/","__resourceUrl":"/model-va-migration-trong-laravel-5-gist/index.html","__dataUrl":"/model-va-migration-trong-laravel-5-gist/index.html.d9b4b54bd72eaa0ab66df951c878d76d.json"},{"layout":"Post","title":"Omnia3: Xem video, upload video kiếm tiền","date":"2014-11-22T11:38:32.000Z","tag":["mmo"],"description":"Omina3 là 1 site mới khai trương và còn trong giai đoạn beta cách thức hoạt động site này rất đơn giản. Chỉ cần bạn xem video (tức là xem quảng cáo của nó) thì các bạn sẽ được tiền. Đơn vị tiền tệ sử…","__filename":"omnia3.md","__url":"/omnia3/","__resourceUrl":"/omnia3/index.html","__dataUrl":"/omnia3/index.html.599ddb7256752de37b6c7764e3fccb8e.json"},{"layout":"Post","title":"PaidVerts - Cuộc cách mạng của Paid to click","date":"2014-11-15T21:44:16.000Z","tags":["mmo"],"description":"Thời gian gần đây, dân chơi MMO đang nóng lên với dịch vụ mới là PaidVerts, dịch vụ được mệnh danh là Cuộc cách mạng của Paid to click chúng ta hãy cùng tìm hiểu về PaidVerts và cách đầu tư để nhanh…","__filename":"paidverts-ptc.md","__url":"/paidverts-ptc/","__resourceUrl":"/paidverts-ptc/index.html","__dataUrl":"/paidverts-ptc/index.html.7da7306b5d97303477c5a72aa0b98c3a.json"},{"layout":"Post","title":"Quản lí các thư viện PHP với Composer","date":"2015-01-03T13:09:22.000Z","tags":["php","composer"],"description":"Update 26/01/2016: Các bạn có thể dùng prestissimo để tăng tốc độ cài đặt cho Composer (Parallel Composer) Gõ dòng lệnh này vào: credit: @VuNhatMinh * * * Composer là gì? Vài năm trước, nếu bạn…","__filename":"quan-li-cac-thu-vien-php-voi-composer.md","__url":"/quan-li-cac-thu-vien-php-voi-composer/","__resourceUrl":"/quan-li-cac-thu-vien-php-voi-composer/index.html","__dataUrl":"/quan-li-cac-thu-vien-php-voi-composer/index.html.67a8e2d9bdb8d9f0a6b4d8287f364299.json"},{"layout":"Post","title":"React.Component với React.createClass","date":"2016-02-19T00:39:00.000Z","tags":["reactjs"],"translate":{"url":"http://reactjsnews.com/composing-components/","author":"Naman Goel & Zach Silveira"},"description":"Giới thiệu React hỗ trợ 2 cách để tạo Component. Bạn có thể kế thừa từ class React.Component hoặc là dùng cú pháp cũ React.createClass đã có từ khi React ra đời. Có lí do nào cụ thể để dùng một cú…","__filename":"react-component-voi-react-create-class.md","__url":"/react-component-voi-react-create-class/","__resourceUrl":"/react-component-voi-react-create-class/index.html","__dataUrl":"/react-component-voi-react-create-class/index.html.e48d203d8f406218cab2fa06a074b61e.json"},{"layout":"Post","title":"React how to","date":"2016-02-20T10:00:00.000Z","tags":["reactjs"],"description":"From react-howto by @petehunt Vietnamese translated by @petehouston react-howto Nếu bạn mới làm quen với React (hoặc phần front-end nói chung) thì bạn sẽ thấy hệ sinh thái tương đối khó hiểu. Có…","__filename":"react-howto.md","__url":"/react-howto/","__resourceUrl":"/react-howto/index.html","__dataUrl":"/react-howto/index.html.0f413d1936fd8cdd11dfc2ad708dde9b.json"},{"layout":"Post","title":"RunAbove : 6 tháng VPS 2GB RAM Windows miễn phí","date":"2014-11-17T17:38:02.000Z","tags":["vps"],"description":"Giới thiệu RunAbove RunAbove là CloudVPS sở hữu bởi OVH. Fact: OVH là nhà cung cấp hosting chất lượng đến từ Pháp. Giá VPS của RunAbove rất cạnh tranh, gói thấp nhất với 2GB RAM và CPU 1 core chỉ…","__filename":"runabove-6-thang-vps-windows-mien-phi.md","__url":"/runabove-6-thang-vps-windows-mien-phi/","__resourceUrl":"/runabove-6-thang-vps-windows-mien-phi/index.html","__dataUrl":"/runabove-6-thang-vps-windows-mien-phi/index.html.6a3abdad70e0c873a4fa3cb5e795e009.json"},{"layout":"Post","title":"Tạo logo Slack động với CSS3","date":"2016-02-02T19:51:00.000Z","image":"/images/2016/slack-logo/slack-featured.png","tags":["css"],"draft":true,"description":"Demo Slack & The Logo Slack là một cái tên khá nổi bây giờ. Slack giúp cho việc giao tiếp giữa các thành viên trong nhóm trở nên dễ dàng hơn. Mình chọn Slack logo để viết bài vì Slack logo được dùng…","__filename":"slack-logo-voi-css3.md","__url":"/slack-logo-voi-css3/","__resourceUrl":"/slack-logo-voi-css3/index.html","__dataUrl":"/slack-logo-voi-css3/index.html.f4c89f334b488e8323f6a692f7892908.json"},{"layout":"Post","title":"npm: Tăng tốc và sử dụng offline","date":"2016-04-12T17:00:00.000Z","route":"tang-toc-npm","tags":["javascript"],"toc":false,"description":"Chắc chắn là ai đã từng làm việc với npm thì đều biết một điều rằng npm nó siêu chậm. Vì vậy mình hay hạn chế chạy npm install đến mức tối thiểu và thường không nhận được patch update, ... cũng như…","__filename":"tang-toc-npm/index.md","__url":"/tang-toc-npm/","__resourceUrl":"/tang-toc-npm/index.html","__dataUrl":"/tang-toc-npm/index.html.b78e714ffa0d9ebd1ce055ab112b6481.json"},{"layout":"Post","title":"Tạo menu cho Discourse","date":"2015-01-09T00:10:59.000Z","tags":["discourse","css"],"toc":false,"description":"Giới thiệu Có nhiều bạn hỏi mình về cái menu Discourse của mình. Hôm nay mình sẽ chia sẽ code với các bạn. Menu sẽ tự động ản khi bạn trượt xuống nên yên tâm là sẽ không tốn quá nhiều diện tích. Demo…","__filename":"tao-menu-cho-discourse.md","__url":"/tao-menu-cho-discourse/","__resourceUrl":"/tao-menu-cho-discourse/index.html","__dataUrl":"/tao-menu-cho-discourse/index.html.120575575eb08387e1f69e9c2b9ddcf6.json"},{"layout":"Post","title":"Tắt plugin Wordpress khi không vào được Bảng điều khiển","date":"2014-11-16T14:25:54.000Z","tags":["wordpress"],"description":"Hôm qua mình có nghịch với mấy cái plugin WordPress và kết quả là không truy cập vào Bảng điểu khiển (Admin Dashboard) được nữa. Nên chẳng thể nào tắt plugin ấy đi được. Sau một hồi tìm kiếm, mình tìm…","__filename":"tat-plugin-wordpress-thu-cong.md","__url":"/tat-plugin-wordpress-thu-cong/","__resourceUrl":"/tat-plugin-wordpress-thu-cong/index.html","__dataUrl":"/tat-plugin-wordpress-thu-cong/index.html.2cbd374fd0bbede9fe89183cda3f9871.json"},{"layout":"Post","title":"Tôi đã thiết kế trang web học C++ của Dạy Nhau Học phục vụ hàng chục nghìn lượt truy cập mỗi tháng với $0.0002 thế nào","date":"2016-09-11T17:00:00.000Z","tags":["case study","phenomic","static website"],"toc":true,"description":"Nếu bạn là thành viên của Dạy Nhau Học (DNH) thì các bạn có thể đã biết đến khóa học của anh Đạt admin (@ltd) Khóa học này (có phí) gồm các video được đăng trên Udemy kèm với đó là trang web đăng tải…","__filename":"thiet-ke-trang-web-hoc-cpp-day-nhau-hoc/index.md","__url":"/thiet-ke-trang-web-hoc-cpp-day-nhau-hoc/","__resourceUrl":"/thiet-ke-trang-web-hoc-cpp-day-nhau-hoc/index.html","__dataUrl":"/thiet-ke-trang-web-hoc-cpp-day-nhau-hoc/index.html.f47693bc0c68404184c879c8e37e15bd.json"},{"layout":"Post","title":"Các thuật ngữ MMO thông dụng nhất","date":"2014-11-16T01:27:07.000Z","tags":["mmo"],"description":"Nếu bạn mới bước chân vào việc kiếm tiền online thì chắc hẳn giữa 1 rừng thuật ngữ MMO sẽ làm bạn ngao ngán. Hy vọng bài viết này sẽ giúp bạn phần nào nắm bắt được MMO và tự tin triển khai kế hoạc của…","__filename":"thuat-ngu-mmo.md","__url":"/thuat-ngu-mmo/","__resourceUrl":"/thuat-ngu-mmo/index.html","__dataUrl":"/thuat-ngu-mmo/index.html.cb7ada6bf0a9c02b494a38dfa2cba074.json"},{"layout":"Post","title":"Tìm hiểu định dạng MDict (MDD/MDX)","date":"2016-04-05T07:00:00.000Z","route":"tim-hieu-dinh-dang-mdict","tags":["algorithm"],"toc":false,"description":"MDict là một phần mềm đọc tự điển cho định dạng MDD và MDX (cũng do MDict tạo ra) với khả năng tra những danh mục từ điển hàng nghìn từ một cách siêu nhanh và đã rất nổi tiếng từ thời Window Mobile…","__filename":"tim-hieu-dinh-dang-mdict/index.md","__url":"/tim-hieu-dinh-dang-mdict/","__resourceUrl":"/tim-hieu-dinh-dang-mdict/index.html","__dataUrl":"/tim-hieu-dinh-dang-mdict/index.html.859de7cd2502ae525ccb2bf0113fdbe9.json"},{"layout":"Post","title":"Mô hình MVC là gì?","date":"2015-01-04T19:58:21.000Z","tags":["mvc"],"description":"Nếu bạn là một lập trình viên, nhất là lập trình web, sẽ rất khó để bạn có thể xin được việc nếu không biết mô hình MVC. Trong post này mình sẽ trình bày đến các bạn mô hình MVC là gì theo cách hiểu…","__filename":"tim-hieu-mo-hinh-mvc-la-gi.md","__url":"/tim-hieu-mo-hinh-mvc-la-gi/","__resourceUrl":"/tim-hieu-mo-hinh-mvc-la-gi/index.html","__dataUrl":"/tim-hieu-mo-hinh-mvc-la-gi/index.html.081dc74fe5aef7affc089aaee6da4ae9.json"},{"layout":"Post","title":"[Video] RunAbove : Kích hoạt Remote Desktop","date":"2014-11-21T07:34:20.000Z","tags":["vps"],"description":"Mặc định thì trên 1 tài khoản mới và VPS mới tạo thì Remote Desktop không được kích. Điều này gây khó khăn cho một số bạn. Bài viết này mình sẽ hướng dẫn cách kích hoạt Remote Desktop trên RunAbove…","__filename":"video-runabove-kich-hoat-remote-desktop.md","__url":"/video-runabove-kich-hoat-remote-desktop/","__resourceUrl":"/video-runabove-kich-hoat-remote-desktop/index.html","__dataUrl":"/video-runabove-kich-hoat-remote-desktop/index.html.3343c73309978cbf4c420d7e70470cce.json"},{"layout":"Post","title":"Xóa tất cả table trong database MySQL","date":"2015-03-15T08:00:00.000Z","description":"MySQL Procedure giúp xóa nhanh tất cả table trong 1 database","tags":["mysql"],"toc":false,"__filename":"xoa-tat-ca-cac-table-mysql.md","__url":"/xoa-tat-ca-cac-table-mysql/","__resourceUrl":"/xoa-tat-ca-cac-table-mysql/index.html","__dataUrl":"/xoa-tat-ca-cac-table-mysql/index.html.2abc1924ab269f01b8d410c590351353.json"}];window.__INITIAL_STATE__ = {"pages":{"/database-seeder-larask-gist/":{"head":{"layout":"Post","title":"Database Seeder - Tạo dummy data - Larask Gist","date":"2015-03-13T17:00:00.000Z","description":"[Series] Larask Gist - Thiết lập Database Seeder , chuẩn bị dummy data","tags":["laravel"]},"body":"<p>Đây là bài viết thứ 4 trong series <a href=\"/gioi-thieu-series-larask-gist/\">Laravel Gist</a> .</p>\n<p>Các bạn có thể xem code của project tại <a href=\"http://github.com/larask/gist\">Github</a>.</p>\n<hr>\n<h1 id=\"Gioi-thieu\"><a class=\"markdownIt-Anchor\" href=\"#Gioi-thieu\">#</a> Giới thiệu</h1>\n<p>Chúng ta đã tạo migration, model và cả sử dụng Uuid trong model\nnhưng chúng ta vẫn chưa có bất cứ dữ liệu nào để sử dụng.</p>\n<p>Làm sao để biết ứng dụng của chúng ta chạy đúng theo mong muốn?</p>\n<p>Làm sao để kiểm tra mọi trường hợp, mọi kiểu data mà user có thể nhập vào?\nChúng ta có thể tạo data bằng tay rồi sau đó import vào database.</p>\n<p>Đó là một công việc hết sức nhàm chán và tốn thời gian.\nĐể mình chỉ cho các bạn các nhanh hơn.</p>\n<h1 id=\"Truoc-khi-bat-dau\"><a class=\"markdownIt-Anchor\" href=\"#Truoc-khi-bat-dau\">#</a> Trước khi bắt đầu</h1>\n<p>Hãy chạy lệnh <code>php artisan migrate:refresh</code> để áp dụng schema mà chúng ta đã thay đổi trong bài trước. Lệnh <code>migrate:refresh</code> thực tế là chạy 2 lệnh sau lần lượt: <code>migrate:rollback</code> và <code>migrate</code>. Không có gì mới ở đây cả.</p>\n<h1 id=\"Database-Seeder\"><a class=\"markdownIt-Anchor\" href=\"#Database-Seeder\">#</a> Database Seeder</h1>\n<p>Các bạn có thể hiểu database seeder là class chứa code để tạo ra dummy data. Khi chạy lệnh <code>php artisan db:seed</code>, Laravel sẽ gọi method <code>run()</code> trong file <code>database/seeds/DatabaseSeeder.php</code> .  Tuy nhiên, để tiện quản lí, chúng ta sẽ tạo riêng cho mỗi table 1 file và gọi các file này từ <code>DatabaseSeeder</code>.</p>\n<h1 id=\"Tao-seeder\"><a class=\"markdownIt-Anchor\" href=\"#Tao-seeder\">#</a> Tạo seeder</h1>\n<p>Ở <a href=\"/model-va-migration-trong-laravel-5-gist/\">bài trước</a> chúng ta có lệnh <code>php artisan make:model</code> để tạo nhanh model và migration cho model. Laravel đi kèm với 1 danh sách các lệnh để tạo nhanh các file. Các bạn có thể xem toàn bộ lệnh của <code>artisan</code> bằng cách chạy lệnh <code>php artisan</code>. Nhưng rất tiếc, không có lệnh tạo database seeder. Chúng ta sẽ cài đặt package <a href=\"https://github.com/laracasts/Laravel-5-Generators-Extended\">Laravel 5 Generators Extended</a> để có được lệnh này. Về phần cài đặt, các bạn có thể xem readme để cài đặt.</p>\n<p>Sau khi cài đặt xong. Chúng ta đã có thể sử dụng <code>php artisan make:seed</code>. Ở đây, mình sẽ chạy 2 lệnh sau để tạo seeder cho User và Gist.</p>\n<pre><code class=\"language-shell\"><span class=\"hljs-selector-tag\">php</span> <span class=\"hljs-selector-tag\">artisan</span> <span class=\"hljs-selector-tag\">make</span><span class=\"hljs-selector-pseudo\">:seed</span> <span class=\"hljs-selector-tag\">gist</span>\n<span class=\"hljs-selector-tag\">php</span> <span class=\"hljs-selector-tag\">artisan</span> <span class=\"hljs-selector-tag\">make</span><span class=\"hljs-selector-pseudo\">:seed</span> <span class=\"hljs-selector-tag\">user</span></code></pre>\n<p>Sau khi hoàn thành chúng ta sẽ có 2 file <code>UserTableSeeder.php</code> và <code>GistTableSeeder.php</code> trong <code>app/database/seeds</code>. Mở file <code>DatabaseSeeder.php</code> trong cùng thư mục và thêm vào trong method <code>run()</code> :</p>\n<pre><code class=\"language-php\"><span class=\"hljs-keyword\">$this</span>-&gt;call(UserTableSeeder::class);\n<span class=\"hljs-keyword\">$this</span>-&gt;call(GistTableSeeder::class);</code></pre>\n<p>File <code>DatabaseSeeder.php</code> của chúng ta lúc này :</p>\n<pre><code class=\"language-php\"><span class=\"hljs-meta\">&lt;?php</span>\n\n<span class=\"hljs-keyword\">use</span> <span class=\"hljs-title\">Illuminate</span>\\<span class=\"hljs-title\">Database</span>\\<span class=\"hljs-title\">Seeder</span>;\n<span class=\"hljs-keyword\">use</span> <span class=\"hljs-title\">Illuminate</span>\\<span class=\"hljs-title\">Database</span>\\<span class=\"hljs-title\">Eloquent</span>\\<span class=\"hljs-title\">Model</span>;\n\n<span class=\"hljs-class\"><span class=\"hljs-keyword\">class</span> <span class=\"hljs-title\">DatabaseSeeder</span> <span class=\"hljs-keyword\">extends</span> <span class=\"hljs-title\">Seeder</span> </span>{\n  <span class=\"hljs-comment\">/**\n   * Run the database seeds.\n   *\n   * <span class=\"hljs-doctag\">@return</span> void\n   */</span>\n  <span class=\"hljs-keyword\">public</span> <span class=\"hljs-function\"><span class=\"hljs-keyword\">function</span> <span class=\"hljs-title\">run</span><span class=\"hljs-params\">()</span>\n  </span>{\n    Model::unguard();\n\n    <span class=\"hljs-keyword\">$this</span>-&gt;call(UserTableSeeder::class);\n    <span class=\"hljs-keyword\">$this</span>-&gt;call(GistTableSeeder::class);\n  }\n}</code></pre>\n<p>Từ này, mỗi khi chúng ta chạy lệnh <code>php artisan db:seed</code>, method <code>run()</code> trong <code>UserTableSeeder</code> và <code>GistTableSeeder</code> sẽ được gọi theo thứ tự.</p>\n<h1 id=\"Dummy-Data\"><a class=\"markdownIt-Anchor\" href=\"#Dummy-Data\">#</a> Dummy Data</h1>\n<p>Bây giờ là phần quan trọng nhất, dummy data. Và để thuận tiện, chung1ta tiếp tục sử dụng 1 package khác của Laracasts : <a href=\"https://github.com/laracasts/TestDummy\">Test Dummy</a>.</p>\n<p>Sau khi cài đặt, các bạn mở class <code>UserTableSeeder</code> và thêm vào method <code>run()</code> đoạn :</p>\n<pre><code class=\"language-php\">TestDummy::times(<span class=\"hljs-number\">100</span>)-&gt;create(<span class=\"hljs-string\">'Gist\\User'</span>);`</code></pre>\n<p>Nhớ import class TestDummy vào:</p>\n<pre><code class=\"language-php\"><span class=\"hljs-keyword\">use</span> <span class=\"hljs-title\">Laracasts</span>\\<span class=\"hljs-title\">TestDummy</span>\\<span class=\"hljs-title\">Factory</span> <span class=\"hljs-title\">as</span> <span class=\"hljs-title\">TestDummy</span>;</code></pre>\n<p>Mục đích của đoạn code trên là sẽ tạo 100 record cho <code>Gist\\User</code> của chúng ta. Tuy nhiên, <code>TestDummy</code> không thần kì tới mức có thể xác định được loại data nào cần sử dụng mà chúng ta cần phải định nghĩa chúng.</p>\n<h2 id=\"TestDummy-Factories\"><a class=\"markdownIt-Anchor\" href=\"#TestDummy-Factories\">#</a> TestDummy Factories</h2>\n<p>Tạo file <code>tests/factories/factories.php</code>. Trong class <code>UserTableSeeder</code> chúng ta cần <code>Gist\\User</code> factory. Vì vậy trong file <code>factories.php</code> chúng ta sẽ định nghĩa factory này như sau:</p>\n<pre><code class=\"language-php\"><span class=\"hljs-meta\">&lt;?php</span>\n\n$factory(<span class=\"hljs-string\">'Gist\\User'</span>, [\n  <span class=\"hljs-string\">'name'</span> =&gt; $faker-&gt;sentence,\n  <span class=\"hljs-string\">'username'</span> =&gt; $faker-&gt;unique()-&gt;userName,\n  <span class=\"hljs-string\">'email'</span> =&gt; $faker-&gt;unique()-&gt;email,\n  <span class=\"hljs-string\">'password'</span> =&gt; $faker-&gt;words, <span class=\"hljs-comment\">// $faker-&gt;password doesn't work</span>\n]);</code></pre>\n<p><em>Lưu ý: Tên factory chính là namespace của model</em></p>\n<p>Các bạn đang thắc mắc <code>$faker</code> là gì? Đó là 1 instance của package <a href=\"https://github.com/fzaninotto/Faker\">fzaninotto/Faker</a> dùng để tạo các thông tin ngẫu nhiên như là <code>lorem ipsum</code> . Các bạn có thể xem đầy đủ các loại thông tin mà Faker hỗ trợ trong file readme.</p>\n<p>OK. Thử chạy <code>php artisan db:seed</code>, nếu ko có lỗi gì xảy ra chúng ta sẽ thấy 100 row trong table users. Thật là dễ dàng phải không nào?</p>\n<p>Chúng ta tiếp tục thực hiện tương tự đối với <code>Gist</code> Model.</p>\n<pre><code class=\"language-php\"><span class=\"hljs-meta\">&lt;?php</span>\n<span class=\"hljs-comment\">// app/database/seeders/GistTableSeeder.php</span>\n\n<span class=\"hljs-keyword\">use</span> <span class=\"hljs-title\">Illuminate</span>\\<span class=\"hljs-title\">Database</span>\\<span class=\"hljs-title\">Seeder</span>;\n<span class=\"hljs-keyword\">use</span> <span class=\"hljs-title\">Laracasts</span>\\<span class=\"hljs-title\">TestDummy</span>\\<span class=\"hljs-title\">Factory</span> <span class=\"hljs-title\">as</span> <span class=\"hljs-title\">TestDummy</span>;\n\n<span class=\"hljs-class\"><span class=\"hljs-keyword\">class</span> <span class=\"hljs-title\">GistTableSeeder</span> <span class=\"hljs-keyword\">extends</span> <span class=\"hljs-title\">Seeder</span> </span>{\n  <span class=\"hljs-keyword\">public</span> <span class=\"hljs-function\"><span class=\"hljs-keyword\">function</span> <span class=\"hljs-title\">run</span><span class=\"hljs-params\">()</span> </span>{\n      TestDummy::times(<span class=\"hljs-number\">100</span>)-&gt;create(<span class=\"hljs-string\">'Gist\\Gist'</span>);\n  }\n}</code></pre>\n<p>Trong file <code>tests/factories/factories.php</code> thêm vào :</p>\n<pre><code class=\"language-php\">$factory(<span class=\"hljs-string\">'Gist\\Gist'</span>, [\n  <span class=\"hljs-string\">'title'</span> =&gt; $faker-&gt;sentence,\n  <span class=\"hljs-string\">'content'</span> =&gt; $faker-&gt;paragraph,\n  <span class=\"hljs-string\">'public'</span> =&gt; $faker-&gt;boolean,\n  <span class=\"hljs-string\">'user_id'</span> =&gt; <span class=\"hljs-string\">'factory:Gist\\User'</span>,\n]);</code></pre>\n<p>Mục cần chúng ta cần chú ý đó chính là <code>user_id</code> . <code>factory:Gist\\User</code> sẽ chỉ <code>TestDummy</code> lấy 1 id của <code>Gist\\User</code> factory chèn vào đó. Như vậy chúng ta đã có <code>Gist\\Gist</code> factory.</p>\n<p>Chạy thử: <code>php artisan db:seed</code> và 100 row sẽ xuất hiện trong <code>gists</code> table. Nhưng có 2 vấn đề xảy ra:</p>\n<ol>\n<li>Trong <code>users</code> table, 100 row mới sẽ xuất hiện và chúng ta có tất cả 200 rows trong <code>users</code> table.</li>\n<li>Tất cả  <code>user_id</code> đều giống nhau trong <code>gists</code> table.</li>\n</ol>\n<p>Chúng ta sẽ lần lượt giải quyết chúng trong các phần tiếp theo.</p>\n<h2 id=\"Truncate-Table\"><a class=\"markdownIt-Anchor\" href=\"#Truncate-Table\">#</a> Truncate Table</h2>\n<p>Để tránh việc có thêm 100 dòng mỗi khi chạy <code>db:seed</code> chúng ta sẽ chạy lệnh <code>TRUNCATE TABLE table-name</code> trước khi seed.</p>\n<p>Mở class <code>DatabaseSeeder</code> và thêm vào đầu method <code>run()</code></p>\n<pre><code class=\"language-php\">DB::statement(<span class=\"hljs-string\">'TRUNCATE TABLE users'</span>);\nDB::statement(<span class=\"hljs-string\">'TRUNCATE TABLE gists'</span>);</code></pre>\n<p>Thử chạy và lỗi <code>constraint</code> sẽ xuất hiện do foreign constrain giữa <code>users</code> table và <code>gists</code> table.</p>\n<p>Chúng ta có để đổi vị trí của 2 dòng code cho nhau để khắc phục lỗi constraint. Tuy nhiên đó không phải giải pháp lâu dài, vì khi ứng dụng phát triển, các table có quan hệ chặt chẽ với nhau và chúng ta không thể nào xác định được table nào <code>truncate</code> trước sẽ không bị lỗi. Giải pháp của chúng ta là sẽ tắt kiểm tra <code>foreign key</code> trước khi <code>truncate</code> và bật lại nó sau khi đã hoàn thành.</p>\n<p>Đây là method <code>run()</code> hoàn chỉnh sau khi đã tích hợp lệnh :</p>\n<pre><code class=\"language-php\"><span class=\"hljs-keyword\">public</span> <span class=\"hljs-function\"><span class=\"hljs-keyword\">function</span> <span class=\"hljs-title\">run</span><span class=\"hljs-params\">()</span>\n</span>{\n  DB::statement(<span class=\"hljs-string\">'SET FOREIGN_KEY_CHECKS=0'</span>);\n\n  DB::statement(<span class=\"hljs-string\">'TRUNCATE TABLE users'</span>);\n  DB::statement(<span class=\"hljs-string\">'TRUNCATE TABLE gists'</span>);\n\n  DB::statement(<span class=\"hljs-string\">'SET FOREIGN_KEY_CHECKS=0'</span>);\n\n  Model::unguard();\n\n  <span class=\"hljs-keyword\">$this</span>-&gt;call(UserTableSeeder::class);\n  <span class=\"hljs-keyword\">$this</span>-&gt;call(GistTableSeeder::class);\n}</code></pre>\n<h2 id=\"Tao-user_id-khac-nhau\"><a class=\"markdownIt-Anchor\" href=\"#Tao-user_id-khac-nhau\">#</a> Tạo user_id khác nhau</h2>\n<p>Như chúng ta đã biết ở trên thì khi chạy <code>db:seed</code> tất cả <code>user_id</code> trong <code>gists</code> table sẽ giống nhau. Đây không phải là lỗi mà là cơ chế hoạt động của <code>TestDummy</code>. Để khắc phục, thay vì ra lệnh cho <code>TestDummy</code> tạo 100 row thì chúng ta sẽ chạy <code>TestDummy</code> 100 lần, mỗi lần tạo 1 row.</p>\n<pre><code class=\"language-php\"><span class=\"hljs-meta\">&lt;?php</span>\n\n<span class=\"hljs-keyword\">use</span> <span class=\"hljs-title\">Illuminate</span>\\<span class=\"hljs-title\">Database</span>\\<span class=\"hljs-title\">Seeder</span>;\n<span class=\"hljs-keyword\">use</span> <span class=\"hljs-title\">Laracasts</span>\\<span class=\"hljs-title\">TestDummy</span>\\<span class=\"hljs-title\">Factory</span> <span class=\"hljs-title\">as</span> <span class=\"hljs-title\">TestDummy</span>;\n\n<span class=\"hljs-class\"><span class=\"hljs-keyword\">class</span> <span class=\"hljs-title\">GistTableSeeder</span> <span class=\"hljs-keyword\">extends</span> <span class=\"hljs-title\">Seeder</span> </span>{\n  <span class=\"hljs-keyword\">public</span> <span class=\"hljs-function\"><span class=\"hljs-keyword\">function</span> <span class=\"hljs-title\">run</span><span class=\"hljs-params\">()</span> </span>{\n    <span class=\"hljs-keyword\">foreach</span>(range(<span class=\"hljs-number\">0</span>,<span class=\"hljs-number\">100</span>) <span class=\"hljs-keyword\">as</span> $index) {\n        TestDummy::times(<span class=\"hljs-number\">1</span>)-&gt;create(<span class=\"hljs-string\">'Gist\\Gist'</span>);\n    }\n  }\n}</code></pre>\n<p>Tuy nhiên, đoạn code trên vẫn chưa tối ưu lắm vì 1 user chỉ có 1 Gist. (có thể <code>TestDummy</code> sẽ chọn lại 1 user_id bị trùng nhưng xác suất là rất thấp). Để tạo ra 1 database ngẫu nhiên hơn nữa. Chúng ta sẽ dùng function <code>rand()</code>.</p>\n<pre><code class=\"language-php\"><span class=\"hljs-meta\">&lt;?php</span>\n\n<span class=\"hljs-keyword\">use</span> <span class=\"hljs-title\">Illuminate</span>\\<span class=\"hljs-title\">Database</span>\\<span class=\"hljs-title\">Seeder</span>;\n<span class=\"hljs-keyword\">use</span> <span class=\"hljs-title\">Laracasts</span>\\<span class=\"hljs-title\">TestDummy</span>\\<span class=\"hljs-title\">Factory</span> <span class=\"hljs-title\">as</span> <span class=\"hljs-title\">TestDummy</span>;\n\n<span class=\"hljs-class\"><span class=\"hljs-keyword\">class</span> <span class=\"hljs-title\">GistTableSeeder</span> <span class=\"hljs-keyword\">extends</span> <span class=\"hljs-title\">Seeder</span> </span>{\n  <span class=\"hljs-keyword\">public</span> <span class=\"hljs-function\"><span class=\"hljs-keyword\">function</span> <span class=\"hljs-title\">run</span><span class=\"hljs-params\">()</span> </span>{\n    <span class=\"hljs-keyword\">foreach</span>(range(<span class=\"hljs-number\">0</span>,<span class=\"hljs-number\">100</span>) <span class=\"hljs-keyword\">as</span> $index) {\n      TestDummy::times(rand(<span class=\"hljs-number\">1</span>,<span class=\"hljs-number\">5</span>))-&gt;create(<span class=\"hljs-string\">'Gist\\Gist'</span>);\n    }\n  }\n}</code></pre>\n<p>Như vậy, chúng ta sẽ chạy <code>TestDummy</code> 100 lần, mỗi lần <code>TestDummy</code> sẽ thêm vào ngẫu nhiên 1-5 records. Các bạn có thể muốn giảm 100 xuống 1 con số thấp hơn để khỏi mất công chờ.</p>\n<h1 id=\"Ket-luan\"><a class=\"markdownIt-Anchor\" href=\"#Ket-luan\">#</a> Kết luận</h1>\n<p>Qua bài này, các bạn đã biết được cách dùng <code>TestDummy</code> kết hợp với <code>Faker</code> để tạo dummy data phục vụ cho việc develop và testing.</p>\n<p>Mình và anh <a href=\"http://blog.luuhoangnam.com/\">Nam</a> đã push vài commit để hiển thị các database này ra ngoài dưới dạng json. Các bạn có thể clone về, cài đặt như bình thường (xem file readme) và truy cập vào route <code>/trending</code> để xem thử.</p>\n","rawBody":"\nĐây là bài viết thứ 4 trong series [Laravel Gist](/gioi-thieu-series-larask-gist/) .\n\nCác bạn có thể xem code của project tại [Github](http://github.com/larask/gist).\n\n--------\n\n# Giới thiệu\n\nChúng ta đã tạo migration, model và cả sử dụng Uuid trong model\nnhưng chúng ta vẫn chưa có bất cứ dữ liệu nào để sử dụng.\n\nLàm sao để biết ứng dụng của chúng ta chạy đúng theo mong muốn?\n\nLàm sao để kiểm tra mọi trường hợp, mọi kiểu data mà user có thể nhập vào?\nChúng ta có thể tạo data bằng tay rồi sau đó import vào database.\n\nĐó là một công việc hết sức nhàm chán và tốn thời gian.\nĐể mình chỉ cho các bạn các nhanh hơn.\n\n# Trước khi bắt đầu\n\nHãy chạy lệnh `php artisan migrate:refresh` để áp dụng schema mà chúng ta đã thay đổi trong bài trước. Lệnh `migrate:refresh` thực tế là chạy 2 lệnh sau lần lượt: `migrate:rollback` và `migrate`. Không có gì mới ở đây cả.\n\n# Database Seeder\n\nCác bạn có thể hiểu database seeder là class chứa code để tạo ra dummy data. Khi chạy lệnh `php artisan db:seed`, Laravel sẽ gọi method `run()` trong file `database/seeds/DatabaseSeeder.php` .  Tuy nhiên, để tiện quản lí, chúng ta sẽ tạo riêng cho mỗi table 1 file và gọi các file này từ `DatabaseSeeder`.\n\n# Tạo seeder\n\nỞ [bài trước](/model-va-migration-trong-laravel-5-gist/) chúng ta có lệnh `php artisan make:model` để tạo nhanh model và migration cho model. Laravel đi kèm với 1 danh sách các lệnh để tạo nhanh các file. Các bạn có thể xem toàn bộ lệnh của `artisan` bằng cách chạy lệnh `php artisan`. Nhưng rất tiếc, không có lệnh tạo database seeder. Chúng ta sẽ cài đặt package [Laravel 5 Generators Extended](https://github.com/laracasts/Laravel-5-Generators-Extended) để có được lệnh này. Về phần cài đặt, các bạn có thể xem readme để cài đặt.\n\nSau khi cài đặt xong. Chúng ta đã có thể sử dụng `php artisan make:seed`. Ở đây, mình sẽ chạy 2 lệnh sau để tạo seeder cho User và Gist.\n\n```shell\nphp artisan make:seed gist\nphp artisan make:seed user\n```\n\nSau khi hoàn thành chúng ta sẽ có 2 file `UserTableSeeder.php` và `GistTableSeeder.php` trong `app/database/seeds`. Mở file `DatabaseSeeder.php` trong cùng thư mục và thêm vào trong method `run()` :\n\n```php\n$this->call(UserTableSeeder::class);\n$this->call(GistTableSeeder::class);\n```\n\nFile `DatabaseSeeder.php` của chúng ta lúc này :\n\n```php\n<?php\n\nuse Illuminate\\Database\\Seeder;\nuse Illuminate\\Database\\Eloquent\\Model;\n\nclass DatabaseSeeder extends Seeder {\n  /**\n   * Run the database seeds.\n   *\n   * @return void\n   */\n  public function run()\n  {\n    Model::unguard();\n\n    $this->call(UserTableSeeder::class);\n    $this->call(GistTableSeeder::class);\n  }\n}\n```\n\nTừ này, mỗi khi chúng ta chạy lệnh `php artisan db:seed`, method `run()` trong `UserTableSeeder` và `GistTableSeeder` sẽ được gọi theo thứ tự.\n\n# Dummy Data\n\nBây giờ là phần quan trọng nhất, dummy data. Và để thuận tiện, chung1ta tiếp tục sử dụng 1 package khác của Laracasts : [Test Dummy](https://github.com/laracasts/TestDummy).\n\nSau khi cài đặt, các bạn mở class `UserTableSeeder` và thêm vào method `run()` đoạn :\n\n```php\nTestDummy::times(100)->create('Gist\\User');`\n```\n\nNhớ import class TestDummy vào:\n\n```php\nuse Laracasts\\TestDummy\\Factory as TestDummy;\n```\n\nMục đích của đoạn code trên là sẽ tạo 100 record cho `Gist\\User` của chúng ta. Tuy nhiên, `TestDummy` không thần kì tới mức có thể xác định được loại data nào cần sử dụng mà chúng ta cần phải định nghĩa chúng.\n\n## TestDummy Factories\n\nTạo file `tests/factories/factories.php`. Trong class `UserTableSeeder` chúng ta cần `Gist\\User` factory. Vì vậy trong file `factories.php` chúng ta sẽ định nghĩa factory này như sau:\n\n```php\n<?php\n\n$factory('Gist\\User', [\n  'name' => $faker->sentence,\n  'username' => $faker->unique()->userName,\n  'email' => $faker->unique()->email,\n  'password' => $faker->words, // $faker->password doesn't work\n]);\n```\n\n*Lưu ý: Tên factory chính là namespace của model*\n\nCác bạn đang thắc mắc `$faker` là gì? Đó là 1 instance của package [fzaninotto/Faker](https://github.com/fzaninotto/Faker) dùng để tạo các thông tin ngẫu nhiên như là `lorem ipsum` . Các bạn có thể xem đầy đủ các loại thông tin mà Faker hỗ trợ trong file readme.\n\nOK. Thử chạy `php artisan db:seed`, nếu ko có lỗi gì xảy ra chúng ta sẽ thấy 100 row trong table users. Thật là dễ dàng phải không nào?\n\nChúng ta tiếp tục thực hiện tương tự đối với `Gist` Model.\n\n```php\n<?php\n// app/database/seeders/GistTableSeeder.php\n\nuse Illuminate\\Database\\Seeder;\nuse Laracasts\\TestDummy\\Factory as TestDummy;\n\nclass GistTableSeeder extends Seeder {\n  public function run() {\n      TestDummy::times(100)->create('Gist\\Gist');\n  }\n}\n```\n\nTrong file `tests/factories/factories.php` thêm vào :\n\n```php\n$factory('Gist\\Gist', [\n  'title' => $faker->sentence,\n  'content' => $faker->paragraph,\n  'public' => $faker->boolean,\n  'user_id' => 'factory:Gist\\User',\n]);\n```\n\nMục cần chúng ta cần chú ý đó chính là `user_id` . `factory:Gist\\User` sẽ chỉ `TestDummy` lấy 1 id của `Gist\\User` factory chèn vào đó. Như vậy chúng ta đã có `Gist\\Gist` factory.\n\nChạy thử: `php artisan db:seed` và 100 row sẽ xuất hiện trong `gists` table. Nhưng có 2 vấn đề xảy ra:\n\n1. Trong `users` table, 100 row mới sẽ xuất hiện và chúng ta có tất cả 200 rows trong `users` table.\n2. Tất cả  `user_id` đều giống nhau trong `gists` table.\n\nChúng ta sẽ lần lượt giải quyết chúng trong các phần tiếp theo.\n\n## Truncate Table\n\nĐể tránh việc có thêm 100 dòng mỗi khi chạy `db:seed` chúng ta sẽ chạy lệnh `TRUNCATE TABLE table-name` trước khi seed.\n\nMở class `DatabaseSeeder` và thêm vào đầu method `run()`\n\n```php\nDB::statement('TRUNCATE TABLE users');\nDB::statement('TRUNCATE TABLE gists');\n```\n\nThử chạy và lỗi `constraint` sẽ xuất hiện do foreign constrain giữa `users` table và `gists` table.\n\nChúng ta có để đổi vị trí của 2 dòng code cho nhau để khắc phục lỗi constraint. Tuy nhiên đó không phải giải pháp lâu dài, vì khi ứng dụng phát triển, các table có quan hệ chặt chẽ với nhau và chúng ta không thể nào xác định được table nào `truncate` trước sẽ không bị lỗi. Giải pháp của chúng ta là sẽ tắt kiểm tra `foreign key` trước khi `truncate` và bật lại nó sau khi đã hoàn thành.\n\nĐây là method `run()` hoàn chỉnh sau khi đã tích hợp lệnh :\n\n```php\npublic function run()\n{\n  DB::statement('SET FOREIGN_KEY_CHECKS=0');\n\n  DB::statement('TRUNCATE TABLE users');\n  DB::statement('TRUNCATE TABLE gists');\n\n  DB::statement('SET FOREIGN_KEY_CHECKS=0');\n\n  Model::unguard();\n\n  $this->call(UserTableSeeder::class);\n  $this->call(GistTableSeeder::class);\n}\n```\n\n## Tạo user_id khác nhau\n\nNhư chúng ta đã biết ở trên thì khi chạy `db:seed` tất cả `user_id` trong `gists` table sẽ giống nhau. Đây không phải là lỗi mà là cơ chế hoạt động của `TestDummy`. Để khắc phục, thay vì ra lệnh cho `TestDummy` tạo 100 row thì chúng ta sẽ chạy `TestDummy` 100 lần, mỗi lần tạo 1 row.\n\n```php\n<?php\n\nuse Illuminate\\Database\\Seeder;\nuse Laracasts\\TestDummy\\Factory as TestDummy;\n\nclass GistTableSeeder extends Seeder {\n  public function run() {\n    foreach(range(0,100) as $index) {\n        TestDummy::times(1)->create('Gist\\Gist');\n    }\n  }\n}\n```\n\nTuy nhiên, đoạn code trên vẫn chưa tối ưu lắm vì 1 user chỉ có 1 Gist. (có thể `TestDummy` sẽ chọn lại 1 user_id bị trùng nhưng xác suất là rất thấp). Để tạo ra 1 database ngẫu nhiên hơn nữa. Chúng ta sẽ dùng function `rand()`.\n\n```php\n<?php\n\nuse Illuminate\\Database\\Seeder;\nuse Laracasts\\TestDummy\\Factory as TestDummy;\n\nclass GistTableSeeder extends Seeder {\n  public function run() {\n    foreach(range(0,100) as $index) {\n      TestDummy::times(rand(1,5))->create('Gist\\Gist');\n    }\n  }\n}\n```\n\nNhư vậy, chúng ta sẽ chạy `TestDummy` 100 lần, mỗi lần `TestDummy` sẽ thêm vào ngẫu nhiên 1-5 records. Các bạn có thể muốn giảm 100 xuống 1 con số thấp hơn để khỏi mất công chờ.\n\n# Kết luận\n\nQua bài này, các bạn đã biết được cách dùng `TestDummy` kết hợp với `Faker` để tạo dummy data phục vụ cho việc develop và testing.\n\nMình và anh [Nam](http://blog.luuhoangnam.com/) đã push vài commit để hiển thị các database này ra ngoài dưới dạng json. Các bạn có thể clone về, cài đặt như bình thường (xem file readme) và truy cập vào route `/trending` để xem thử.\n","raw":"---\nlayout: Post\ntitle: 'Database Seeder - Tạo dummy data - Larask Gist'\ndate: 2015-03-13 17:00:00\ndescription: '[Series] Larask Gist - Thiết lập Database Seeder , chuẩn bị dummy data'\ntags: [laravel]\n---\n\nĐây là bài viết thứ 4 trong series [Laravel Gist](/gioi-thieu-series-larask-gist/) .\n\nCác bạn có thể xem code của project tại [Github](http://github.com/larask/gist).\n\n--------\n\n# Giới thiệu\n\nChúng ta đã tạo migration, model và cả sử dụng Uuid trong model\nnhưng chúng ta vẫn chưa có bất cứ dữ liệu nào để sử dụng.\n\nLàm sao để biết ứng dụng của chúng ta chạy đúng theo mong muốn?\n\nLàm sao để kiểm tra mọi trường hợp, mọi kiểu data mà user có thể nhập vào?\nChúng ta có thể tạo data bằng tay rồi sau đó import vào database.\n\nĐó là một công việc hết sức nhàm chán và tốn thời gian.\nĐể mình chỉ cho các bạn các nhanh hơn.\n\n# Trước khi bắt đầu\n\nHãy chạy lệnh `php artisan migrate:refresh` để áp dụng schema mà chúng ta đã thay đổi trong bài trước. Lệnh `migrate:refresh` thực tế là chạy 2 lệnh sau lần lượt: `migrate:rollback` và `migrate`. Không có gì mới ở đây cả.\n\n# Database Seeder\n\nCác bạn có thể hiểu database seeder là class chứa code để tạo ra dummy data. Khi chạy lệnh `php artisan db:seed`, Laravel sẽ gọi method `run()` trong file `database/seeds/DatabaseSeeder.php` .  Tuy nhiên, để tiện quản lí, chúng ta sẽ tạo riêng cho mỗi table 1 file và gọi các file này từ `DatabaseSeeder`.\n\n# Tạo seeder\n\nỞ [bài trước](/model-va-migration-trong-laravel-5-gist/) chúng ta có lệnh `php artisan make:model` để tạo nhanh model và migration cho model. Laravel đi kèm với 1 danh sách các lệnh để tạo nhanh các file. Các bạn có thể xem toàn bộ lệnh của `artisan` bằng cách chạy lệnh `php artisan`. Nhưng rất tiếc, không có lệnh tạo database seeder. Chúng ta sẽ cài đặt package [Laravel 5 Generators Extended](https://github.com/laracasts/Laravel-5-Generators-Extended) để có được lệnh này. Về phần cài đặt, các bạn có thể xem readme để cài đặt.\n\nSau khi cài đặt xong. Chúng ta đã có thể sử dụng `php artisan make:seed`. Ở đây, mình sẽ chạy 2 lệnh sau để tạo seeder cho User và Gist.\n\n```shell\nphp artisan make:seed gist\nphp artisan make:seed user\n```\n\nSau khi hoàn thành chúng ta sẽ có 2 file `UserTableSeeder.php` và `GistTableSeeder.php` trong `app/database/seeds`. Mở file `DatabaseSeeder.php` trong cùng thư mục và thêm vào trong method `run()` :\n\n```php\n$this->call(UserTableSeeder::class);\n$this->call(GistTableSeeder::class);\n```\n\nFile `DatabaseSeeder.php` của chúng ta lúc này :\n\n```php\n<?php\n\nuse Illuminate\\Database\\Seeder;\nuse Illuminate\\Database\\Eloquent\\Model;\n\nclass DatabaseSeeder extends Seeder {\n  /**\n   * Run the database seeds.\n   *\n   * @return void\n   */\n  public function run()\n  {\n    Model::unguard();\n\n    $this->call(UserTableSeeder::class);\n    $this->call(GistTableSeeder::class);\n  }\n}\n```\n\nTừ này, mỗi khi chúng ta chạy lệnh `php artisan db:seed`, method `run()` trong `UserTableSeeder` và `GistTableSeeder` sẽ được gọi theo thứ tự.\n\n# Dummy Data\n\nBây giờ là phần quan trọng nhất, dummy data. Và để thuận tiện, chung1ta tiếp tục sử dụng 1 package khác của Laracasts : [Test Dummy](https://github.com/laracasts/TestDummy).\n\nSau khi cài đặt, các bạn mở class `UserTableSeeder` và thêm vào method `run()` đoạn :\n\n```php\nTestDummy::times(100)->create('Gist\\User');`\n```\n\nNhớ import class TestDummy vào:\n\n```php\nuse Laracasts\\TestDummy\\Factory as TestDummy;\n```\n\nMục đích của đoạn code trên là sẽ tạo 100 record cho `Gist\\User` của chúng ta. Tuy nhiên, `TestDummy` không thần kì tới mức có thể xác định được loại data nào cần sử dụng mà chúng ta cần phải định nghĩa chúng.\n\n## TestDummy Factories\n\nTạo file `tests/factories/factories.php`. Trong class `UserTableSeeder` chúng ta cần `Gist\\User` factory. Vì vậy trong file `factories.php` chúng ta sẽ định nghĩa factory này như sau:\n\n```php\n<?php\n\n$factory('Gist\\User', [\n  'name' => $faker->sentence,\n  'username' => $faker->unique()->userName,\n  'email' => $faker->unique()->email,\n  'password' => $faker->words, // $faker->password doesn't work\n]);\n```\n\n*Lưu ý: Tên factory chính là namespace của model*\n\nCác bạn đang thắc mắc `$faker` là gì? Đó là 1 instance của package [fzaninotto/Faker](https://github.com/fzaninotto/Faker) dùng để tạo các thông tin ngẫu nhiên như là `lorem ipsum` . Các bạn có thể xem đầy đủ các loại thông tin mà Faker hỗ trợ trong file readme.\n\nOK. Thử chạy `php artisan db:seed`, nếu ko có lỗi gì xảy ra chúng ta sẽ thấy 100 row trong table users. Thật là dễ dàng phải không nào?\n\nChúng ta tiếp tục thực hiện tương tự đối với `Gist` Model.\n\n```php\n<?php\n// app/database/seeders/GistTableSeeder.php\n\nuse Illuminate\\Database\\Seeder;\nuse Laracasts\\TestDummy\\Factory as TestDummy;\n\nclass GistTableSeeder extends Seeder {\n  public function run() {\n      TestDummy::times(100)->create('Gist\\Gist');\n  }\n}\n```\n\nTrong file `tests/factories/factories.php` thêm vào :\n\n```php\n$factory('Gist\\Gist', [\n  'title' => $faker->sentence,\n  'content' => $faker->paragraph,\n  'public' => $faker->boolean,\n  'user_id' => 'factory:Gist\\User',\n]);\n```\n\nMục cần chúng ta cần chú ý đó chính là `user_id` . `factory:Gist\\User` sẽ chỉ `TestDummy` lấy 1 id của `Gist\\User` factory chèn vào đó. Như vậy chúng ta đã có `Gist\\Gist` factory.\n\nChạy thử: `php artisan db:seed` và 100 row sẽ xuất hiện trong `gists` table. Nhưng có 2 vấn đề xảy ra:\n\n1. Trong `users` table, 100 row mới sẽ xuất hiện và chúng ta có tất cả 200 rows trong `users` table.\n2. Tất cả  `user_id` đều giống nhau trong `gists` table.\n\nChúng ta sẽ lần lượt giải quyết chúng trong các phần tiếp theo.\n\n## Truncate Table\n\nĐể tránh việc có thêm 100 dòng mỗi khi chạy `db:seed` chúng ta sẽ chạy lệnh `TRUNCATE TABLE table-name` trước khi seed.\n\nMở class `DatabaseSeeder` và thêm vào đầu method `run()`\n\n```php\nDB::statement('TRUNCATE TABLE users');\nDB::statement('TRUNCATE TABLE gists');\n```\n\nThử chạy và lỗi `constraint` sẽ xuất hiện do foreign constrain giữa `users` table và `gists` table.\n\nChúng ta có để đổi vị trí của 2 dòng code cho nhau để khắc phục lỗi constraint. Tuy nhiên đó không phải giải pháp lâu dài, vì khi ứng dụng phát triển, các table có quan hệ chặt chẽ với nhau và chúng ta không thể nào xác định được table nào `truncate` trước sẽ không bị lỗi. Giải pháp của chúng ta là sẽ tắt kiểm tra `foreign key` trước khi `truncate` và bật lại nó sau khi đã hoàn thành.\n\nĐây là method `run()` hoàn chỉnh sau khi đã tích hợp lệnh :\n\n```php\npublic function run()\n{\n  DB::statement('SET FOREIGN_KEY_CHECKS=0');\n\n  DB::statement('TRUNCATE TABLE users');\n  DB::statement('TRUNCATE TABLE gists');\n\n  DB::statement('SET FOREIGN_KEY_CHECKS=0');\n\n  Model::unguard();\n\n  $this->call(UserTableSeeder::class);\n  $this->call(GistTableSeeder::class);\n}\n```\n\n## Tạo user_id khác nhau\n\nNhư chúng ta đã biết ở trên thì khi chạy `db:seed` tất cả `user_id` trong `gists` table sẽ giống nhau. Đây không phải là lỗi mà là cơ chế hoạt động của `TestDummy`. Để khắc phục, thay vì ra lệnh cho `TestDummy` tạo 100 row thì chúng ta sẽ chạy `TestDummy` 100 lần, mỗi lần tạo 1 row.\n\n```php\n<?php\n\nuse Illuminate\\Database\\Seeder;\nuse Laracasts\\TestDummy\\Factory as TestDummy;\n\nclass GistTableSeeder extends Seeder {\n  public function run() {\n    foreach(range(0,100) as $index) {\n        TestDummy::times(1)->create('Gist\\Gist');\n    }\n  }\n}\n```\n\nTuy nhiên, đoạn code trên vẫn chưa tối ưu lắm vì 1 user chỉ có 1 Gist. (có thể `TestDummy` sẽ chọn lại 1 user_id bị trùng nhưng xác suất là rất thấp). Để tạo ra 1 database ngẫu nhiên hơn nữa. Chúng ta sẽ dùng function `rand()`.\n\n```php\n<?php\n\nuse Illuminate\\Database\\Seeder;\nuse Laracasts\\TestDummy\\Factory as TestDummy;\n\nclass GistTableSeeder extends Seeder {\n  public function run() {\n    foreach(range(0,100) as $index) {\n      TestDummy::times(rand(1,5))->create('Gist\\Gist');\n    }\n  }\n}\n```\n\nNhư vậy, chúng ta sẽ chạy `TestDummy` 100 lần, mỗi lần `TestDummy` sẽ thêm vào ngẫu nhiên 1-5 records. Các bạn có thể muốn giảm 100 xuống 1 con số thấp hơn để khỏi mất công chờ.\n\n# Kết luận\n\nQua bài này, các bạn đã biết được cách dùng `TestDummy` kết hợp với `Faker` để tạo dummy data phục vụ cho việc develop và testing.\n\nMình và anh [Nam](http://blog.luuhoangnam.com/) đã push vài commit để hiển thị các database này ra ngoài dưới dạng json. Các bạn có thể clone về, cài đặt như bình thường (xem file readme) và truy cập vào route `/trending` để xem thử.\n","__filename":"database-seeder-larask-gist.md","__url":"/database-seeder-larask-gist/","__resourceUrl":"/database-seeder-larask-gist/index.html","__dataUrl":"/database-seeder-larask-gist/index.html.c357563a814f7322a939449f9a765edf.json","type":"Post"}}}</script><script src="/phenomic.browser.610d753abb4a53bdb275.js"></script></body></html>